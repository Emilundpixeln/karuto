export const weapon_power_by_grade = [
    50362, 52051, 53796, 55599, 57463, 59390, 61381, 63439, 65566, 67764, 70036, 72384, 74811, 77429, 80139, 82944,
    85847, 88851, 91961, 95180, 98511, 101959, 105527, 109221, 113044, 117000,
];

export const weapon_power_by_grade_esther = [27284, 34723, 42165, 52087, 57048, 65727, 89295, 102468, 117585, 129422];

export const esther_weapons = [113511530, 113511440, 113511370, 113512370, 113513370, 113513620, 113513610, 113512620, 113512610, 113511520, 113511560, 113511510, 113512440, 113512410, 113512430, 113512420, 113513440, 113511620, 113513410, 113513430, 113513420, 113511240, 113512240, 113513240, 113513530, 113513520, 113513560, 113513510, 113513540, 113511130, 113511320, 113512320, 113513320, 113511230, 113512230, 113513230, 66151120, 66151110, 113511120, 113511330, 113512330, 113513330, 113512220, 113511340, 113512340, 113513340, 113511110, 113512530, 113512520, 113512560, 113512510, 113512540, 113511610, 113511410, 113511210, 113512210, 113513210, 113512130, 113512120, 113512110, 113512160, 113512140, 113511430, 66150010, 66150110, 52324051, 52324052, 52324053, 99081, 113511540, 113511420, 113511360, 113512360, 113513360, 113511160, 113513130, 113513120, 113513110, 113513160, 113513140, 113511140, 113511310, 113512310, 113513310, 113511220, 113513220];

export const main_stat_by_grade = [
    29030, 30005, 31013, 32055, 33131, 34244, 35394, 36583, 37811, 39081, 40393, 41749, 43150, 44663, 46228, 47848,
    49524, 51260, 53056, 54915, 56839, 58830, 60891, 63024, 65232, 67517,
];

export const weapon_power_by_ah = [
    0,
    ...[0, 1, 2, 3].flatMap((i) =>
        [0, 0, 0, 0, 0].map((_) => (weapon_power_by_grade[6 + i] - weapon_power_by_grade[6 + i - 1]) / 5)
    ),
];

export const main_stat_by_ah = [
    0,
    ...[0, 1, 2, 3].flatMap((i) =>
        [0, 0, 0, 0, 0].map((_) => (main_stat_by_grade[6 + i] - main_stat_by_grade[6 + i - 1]) / 5)
    ),
];

const stats_ = {
    0: "None",
    1: "HP",
    2: "MP",
    3: "Strength",
    4: "Dexterity",
    5: "Intelligence",
    6: "Vitality",
    7: "Strength",
    8: "Dexterity",
    9: "Intelligence",
    10: "Vitality",
    15: "Crit",
    16: "Specialization",
    17: "Domination",
    18: "Swiftness",
    19: "Endurance",
    20: "Expertise",
    21: "Crit",
    22: "Specialization",
    23: "Domination",
    24: "Swiftness",
    25: "Endurance",
    26: "Expertise",
    27: "Max HP",
    28: "Max MP",
    29: "Max HP",
    30: "Max MP",
    31: "Max HP",
    32: "Max MP",
    33: "Resting HP Recovery",
    34: "Combat HP Recovery",
    35: "Resting HP Recovery",
    36: "Combat HP Recovery",
    37: "Resting MP Recovery",
    38: "Combat MP Recovery",
    39: "Resting MP Recovery",
    40: "Combat MP Recovery",
    41: "Healing",
    42: "HP Drain Rate",
    43: "MP Drain Rate",
    44: "Damage Reflect Rate",
    45: "Evolution-Type Damage",
    46: "Brand Power",
    47: "Atk. Power",
    48: "Bonus Damage",
    49: "Atk. Power (%)",
    50: "Additional Damage",
    51: "Atk. Power",
    52: "Additional Damage",
    53: "Skill Cooldown Decrease",
    54: "Stagger Damage",
    55: "Phy. Defense",
    56: "Mag. Defense",
    57: "Phy. Defense",
    58: "Mag. Defense",
    59: "Phy. Defense",
    60: "Mag. Defense",
    65: "Critical Physical",
    66: "Critical Magical",
    67: "Phy. Defense Piercing",
    68: "Mag. Defense Piercing",
    69: "Phy. Damage Reduction",
    70: "Mag. Damage Reduction",
    71: "Shield",
    72: "Accuracy",
    73: "Dodge Rate",
    74: "Crit Rate",
    75: "Crit Resistance",
    76: "Crit Damage",
    77: "Atk. Speed",
    78: "Atk. Speed",
    79: "Move Speed",
    80: "Move Speed",
    81: "Encumbered Speed",
    82: "Encumbered Speed",
    83: "Mount Speed",
    84: "Mount Speed",
    85: "Ship Sailing Speed",
    86: "Ship Sailing Speed",
    87: "Fire Damage",
    88: "Water Damage",
    89: "Lightning Damage",
    91: "Earth Damage",
    92: "Dark Damage",
    93: "Holy Damage",
    94: "Elemental Damage",
    95: "Fire Damage Reduction",
    96: "Water Damage Reduction",
    97: "Lightning Damage Reduction",
    99: "Earth Damage Reduction",
    100: "Dark Damage Reduction",
    101: "Holy Damage Reduction",
    102: "All Elemental Damage Reduction",
    104: "Hyper Awakening Skill Damage",
    105: "Status Ailment Time Reduction",
    106: "Status Ailment Time Bonus",
    107: "Identity Meter 1",
    108: "Identity Meter 2",
    109: "Identity Meter 3",
    110: "Awakening Skill Damage",
    111: "Item Drop Rate",
    112: "Silver Earned",
    113: "XP Earned",
    123: "Atk. Power",
    124: "Atk. Power",
    125: "Bonus vs. Humans",
    126: "Bonus vs. Demons",
    127: "Bonus vs. Matter",
    128: "Bonus vs. Undead",
    129: "Bonus vs. Plants",
    130: "Bonus vs. Insects",
    131: "Bonus vs. Elementals",
    132: "Bonus vs. Beasts",
    133: "Bonus vs. Machines",
    134: "Bonus vs. Ancients",
    135: "Bonus vs. Gods",
    136: "Bonus vs. Archdemons",
    137: "Vigor",
    138: "Fast Sailing Move Speed",
    139: "Move Speed while stranded",
    140: "Move Speed on Islands",
    141: "Attack Power Sub 1",
    142: "Attack Power Sub 2",
    143: "Physical Inc Sub 1",
    144: "Physical Inc Sub 2",
    145: "Magical Inc Sub 1",
    146: "Magical Inc Sub 2",
    147: "Skill Damage Sub 1",
    148: "Skill Damage Sub 2",
    149: "Combat Resource Natural Recovery",
    150: "Basic Atk. Power",
    151: "Weapon Power",
    152: "Weapon Power (%)",
} as const;

export const stats = stats_ as Record<number, (typeof stats_)[keyof typeof stats_]>;

export type Stats = {
    swift: number
    spec: number
    crit: number

    weapon_power: number
    main_stat: number
    additional_damage: number
    extra_ap: number
    increased_main_stat: number
    increased_weapon_power: number
    increased_attack_power: number
    base_ap: number
    damage_multiplier: number
    crit_rate: number
    crit_damage: number
    damage_on_crit: number
    cooldown_reduction: number
    blunt_thorn: number
    evolution_damage: number

    // supp
    identity_gain: number
    identity_effect: number
    brand_power: number
    ap_buff_effect: number
    outgoing_damage_effect: number
    crit_rate_resistance: number // => 1:1 inc. crit chance
    crit_damage_resistance: number // => 1:1 inc. crit damage
    ally_outgoing_damage: number
    drops_effect: number
    awakening_cooldown: number
    identity_for_casting_t: number
    t_skill_cooldown_reduction: number
};


export const crit_rate_for_stat = 0.00035836512;
export const cooldown_reduction_for_stat = 0.00021475;

export type UptimedPartialScaledStat = { uptime: number, stat: Partial<ScaledStat> };
function uptimed(stat: Partial<ScaledStat>, uptime: number): UptimedPartialScaledStat {
    return { uptime, stat };
}

function cons(number: number) {
    return [number, number, number];
}

export const ark_passive: Record<number, [string, string, (Partial<ScaledStat> | UptimedPartialScaledStat) | (Partial<ScaledStat> | UptimedPartialScaledStat)[], tree: number, row: number, column: number]> = {
    225e4: ["Surge Enhancement", "ark_passive_bl_1", {}, 1, 0, 1],
    2250100: ["Orb Compression", "ark_passive_bl_2", {}, 1, 1, 1],
    2250200: ["Orb Control", "ark_passive_01_55", {}, 1, 2, 0],
    2250300: ["Limit Break", "ark_passive_bl_3", {}, 1, 2, 1],
    2250400: ["Locked In", "ark_passive_bl_6", {}, 1, 3, 0],
    2250500: ["Sword Spirit Compression", "ark_passive_bl_7", {}, 1, 3, 1],
    2250600: ["Swift Strike", "ark_passive_bl_4", {}, 1, 0, 2],
    2250700: ["Remaining Energy", "ark_passive_bl_5", {}, 1, 1, 2],
    2250800: ["Firm Will", "ark_passive_01_18", { increased_attack_power: 0.16 }, 1, 2, 2],
    2250900: ["Swordcraft Enhancement", "ark_passive_01_19", {}, 1, 2, 3],
    2251e3: ["Extreme Body Movement", "ark_passive_bl_8", {}, 1, 3, 2],
    2251100: ["Orb Circulation", "ark_passive_01_15", {}, 1, 3, 3],
    2255e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2255100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2255200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2255300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2255400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2255500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2255600: ["Flash Slash", "ark_passive_bl_9", {}, 2, 1, 0],
    2255700: ["Path of the Blade", "ark_passive_bl_10", {}, 2, 1, 1],
    2255800: ["Dance of Nightmares", "ark_passive_bl_11", {}, 2, 1, 2],
    2255900: ["Dance of Screams", "ark_passive_bl_12", {}, 2, 1, 3],
    227e4: ["Demonic Impulse", "ark_passive_dm_1", {}, 1, 0, 1],
    2270100: ["Instinct Enhancement", "ark_passive_dm_2", {}, 1, 1, 1],
    2270200: ["Chaos Training", "ark_passive_dm_3", {}, 1, 2, 0],
    2270300: ["Chaos Enhancement", "ark_passive_01_18", { crit_rate: 0.1 }, 1, 2, 1],
    2270400: ["Corrosion", "ark_passive_dm_4", {}, 1, 3, 0],
    2270500: ["Bloody Piercing", "ark_passive_dm_5", {}, 1, 3, 1],
    2270600: ["Perfect Suppression", "ark_passive_dm_6", {}, 1, 0, 2],
    2270700: ["Shadowburst Control", "ark_passive_dm_7", {}, 1, 1, 2],
    2270800: ["Weapon Training", "ark_passive_01_15", {}, 1, 2, 2],
    2270900: ["Shadowburst Absorption", "ark_passive_dm_8", {}, 1, 2, 3],
    2271e3: ["Storm Grinding", "ark_passive_dm_9", {}, 1, 3, 2],
    2271100: ["Enh. Release Shadowburst", "ark_passive_dm_10", {}, 1, 3, 3],
    2275e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2275100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2275200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2275300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2275400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2275500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2275600: ["Malicious Authority", "ark_passive_dm_13", {}, 2, 1, 0],
    2275700: ["Hellish Infusion", "ark_passive_dm_14", {}, 2, 1, 1],
    2275800: ["Hell's Frenzy", "ark_passive_dm_15", {}, 2, 1, 2],
    2275900: ["Demon's Ascension", "ark_passive_dm_16", {}, 2, 1, 3],
    226e4: ["Lunar Voice", "ark_passive_rp_1", {}, 1, 0, 1],
    2260100: ["Ghost Dancer", "ark_passive_01_37", { crit_rate: [0.03, 0.06, 0.1] }, 1, 1, 1],
    2260200: ["Acrobat", "ark_passive_rp_2", {}, 1, 2, 0],
    2260300: ["Follow the Shadow", "ark_passive_01_10", {}, 1, 2, 1],
    2260400: ["Incognito", "ark_passive_rp_3", {}, 1, 3, 0],
    2260500: ["Vital Point Secured", "ark_passive_rp_4", {}, 1, 3, 1],
    2260600: ["Smell of Blood", "ark_passive_rp_5", { crit_rate: [0.18, 0.2, 0.23]}, 1, 0, 2],
    2260700: ["Starvation", "ark_passive_01_52", {}, 1, 1, 2],
    2260800: ["Hunger", "ark_passive_01_16", { increased_attack_power: [0.09, 0.18, 0.28]}, 1, 2, 2],
    2260900: ["Assassin's Steps", "ark_passive_01_44", {}, 1, 2, 3],
    2261e3: ["Slaughterer", "ark_passive_rp_6", {}, 1, 3, 2],
    2261100: ["Chaos Enhancement", "ark_passive_rp_7", {}, 1, 3, 3],
    2265e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2265100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2265200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2265300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2265400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2265500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2265600: ["Sly Blade", "ark_passive_rp_8", {}, 2, 1, 0],
    2265700: ["Cruel Blade", "ark_passive_rp_9", {}, 2, 1, 1],
    2265800: ["Assassin's Footsteps", "ark_passive_rp_10", {}, 2, 1, 2],
    2265900: ["Shadow Beast", "ark_passive_rp_11", {}, 2, 1, 3],
    246e4: ["Soul Affinity", "ark_passive_se_1", { crit_rate: [0.03, 0.08, 0.14]}, 1, 0, 1],
    2460100: ["Full Moon Harvester", "ark_passive_se_2", uptimed({ /*class*/crit_rate: cons(0.2) }, 0.71), 1, 1, 1],
    2460200: ["Soul Amplification", "ark_passive_se_3", {}, 1, 2, 0],
    2460300: ["Execution Enhancement", "ark_passive_01_11", {}, 1, 2, 1],
    2460400: ["Soul Guide", "ark_passive_01_54", {}, 1, 3, 0],
    2460500: ["Soul Resonance", "ark_passive_se_4", {}, 1, 3, 1],
    2460600: ["Night's Edge", "ark_passive_se_5", {}, 1, 0, 2],
    2460700: ["Death Refinement", "ark_passive_se_6", {}, 1, 1, 2],
    2460800: ["Broken Edge", "ark_passive_01_19", {}, 1, 2, 2],
    2460900: ["Soul Enhancement", "ark_passive_01_18", {}, 1, 2, 3],
    2461e3: ["Soul Decapitation", "ark_passive_se_7", {}, 1, 3, 2],
    2461100: ["Soul Control", "ark_passive_se_8", {}, 1, 3, 3],
    2465e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2465100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2465200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2465300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2465400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2465500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2465600: ["Death March of Darkness", "ark_passive_se_11", {}, 2, 1, 0],
    2465700: ["Soul Harvester", "ark_passive_se_12", {}, 2, 1, 1],
    2465800: ["Judgment", "ark_passive_se_13", {}, 2, 1, 2],
    2465900: ["Soul Searching", "ark_passive_se_14", {}, 2, 1, 3],
    1010100: ["Crit", "ark_passive_evolution_1", { crit: 50 }, 0, 0, 0],
    1010200: ["Specialization", "ark_passive_evolution_2", { spec: 50 }, 0, 0, 1],
    1010300: ["Domination", "ark_passive_evolution_3", {}, 0, 0, 2],
    1010400: ["Swiftness", "ark_passive_evolution_4", { swift: 50 }, 0, 0, 3],
    1010500: ["Endurance", "ark_passive_evolution_5", {}, 0, 0, 4],
    1010600: ["Expertise", "ark_passive_evolution_6", {}, 0, 0, 5],
    1020100: ["Boundless MP", "ark_passive_evolution_16", { cooldown_reduction: 0.07 }, 0, 1, 0],
    1020200: ["Illicit Spell", "ark_passive_evolution_12", { evolution_damage: 0.1 }, 0, 1, 1],
    1020300: ["Keen Sense", "ark_passive_evolution_29", { crit_rate: 0.04, evolution_damage: 0.05 }, 0, 1, 2],
    1020400: ["Limit Break", "ark_passive_evolution_34", { evolution_damage: 0.1 }, 0, 1, 3],
    1020500: ["Optimized Training", "ark_passive_evolution_22", { cooldown_reduction: 0.04, evolution_damage: 0.05 }, 0, 1, 4],
    1020600: ["Goddess of Blessings", "ark_passive_evolution_19", {}, 0, 1, 5],
    1030100: ["Unlimited Magick", "ark_passive_evolution_14", { evolution_damage: 0.08, cooldown_reduction: 0.07 }, 0, 2, 0],
    1030200: ["Zealous Smite", "ark_passive_evolution_27", { crit_rate: 0.12, evolution_damage: 0.02 }, 0, 2, 1],
    1030300: ["Strike", "ark_passive_evolution_32", { crit_rate: 0.1, crit_damage: 0.16 }, 0, 2, 2],
    1030400: ["Destruction Charger", "ark_passive_evolution_35", { evolution_damage: 0.12 }, 0, 2, 3],
    1030500: ["Dominion Timing", "ark_passive_evolution_23", { cooldown_reduction: 0.05, evolution_damage: 0.08 }, 0, 2, 4],
    1030600: ["Passionate Dance", "ark_passive_evolution_33", { identity_gain: 0.2 }, 0, 2, 5],
    1040100: ["Blunt Thorn", "ark_passive_evolution_20", { evolution_damage: 0.075, blunt_thorn: 1 }, 0, 3, 0],
    1040200: ["Supersonic Breakthrough", "ark_passive_evolution_21", { evolution_damage: 0.12 }, 0, 3, 1],
    1040300: ["Infighting", "ark_passive_evolution_38", { evolution_damage: 0.09 }, 0, 3, 2],
    1040400: ["Standing Striker", "ark_passive_evolution_18", { evolution_damage: 0.105, brand_power: 0.1 }, 0, 3, 3],
    1040500: ["MP Furnace", "ark_passive_evolution_24", { evolution_damage: 0.12, brand_power: 0.1 }, 0, 3, 4],
    1040600: ["Stable Manager", "ark_passive_evolution_25", { brand_power: 0.1 }, 0, 3, 5],
    234e4: ["Control", "ark_passive_01_52", {}, 1, 0, 1],
    2340100: ["Pinnacle I", "ark_passive_lm_2", {}, 1, 0, 2],
    2340200: ["Flurry Move", "ark_passive_01_10", {}, 1, 1, 1],
    2340300: ["Pinnacle II", "ark_passive_lm_3", { crit_damage: 0.2 }, 1, 1, 2],
    2340400: ["Lethal Slash", "ark_passive_01_1", {}, 1, 2, 0],
    2340500: ["Flurry Enhancement", "ark_passive_lm_1", {}, 1, 2, 1],
    2340600: ["Pinnacle III", "ark_passive_lm_4", {}, 1, 2, 2],
    2340700: ["Power Stab", "ark_passive_01_17", {}, 1, 2, 3],
    2340800: ["Yeon-Style Mark", "ark_passive_lm_5", {}, 1, 3, 0],
    2340900: ["Yeon-Style Technique", "ark_passive_lm_6", {}, 1, 3, 1],
    2341e3: ["Yeon-Style Encore", "ark_passive_lm_7", {}, 1, 3, 2],
    2341100: ["Quick-Change Crits", "ark_passive_01_18", {}, 1, 3, 3],
    223e4: ["Stamina Recovery", "ark_passive_if_3", {}, 1, 0, 1],
    2230100: ["Enhanced Speed", "ark_passive_01_37", {}, 1, 0, 2],
    2230200: ["Tenacity Recovery", "ark_passive_01_54", {}, 1, 1, 1],
    2230300: ["Shock Recovery", "ark_passive_01_53", {}, 1, 1, 2],
    2230400: ["Keen Strike", "ark_passive_01_1", {}, 1, 2, 0],
    2230500: ["Ultimate Skill: Taijutsu", "ark_passive_if_1", {}, 1, 2, 1],
    2230600: ["Shock Training", "ark_passive_if_2", {}, 1, 2, 2],
    2230700: ["Duck II", "ark_passive_01_16", {}, 1, 2, 3],
    2230800: ["Lethal Tenacity", "ark_passive_01_4", {}, 1, 3, 0],
    2230900: ["Earth Rend", "ark_passive_if_5", {}, 1, 3, 1],
    2231e3: ["Acceleration", "ark_passive_01_9", {}, 1, 3, 2],
    2231100: ["One-Sided Strike", "ark_passive_01_19", {}, 1, 3, 3],
    222e4: ["Powerful Taijutsu", "ark_passive_01_15", {}, 1, 0, 1],
    2220100: ["Powerful Esoteric Skill", "ark_passive_01_16", {}, 1, 0, 2],
    2220200: ["Energy Recovery", "ark_passive_01_34", {}, 1, 1, 1],
    2220300: ["Orb Bonus", "ark_passive_bm_2", {}, 1, 1, 2],
    2220400: ["Lethal Taijutsu", "ark_passive_01_1", {}, 1, 2, 0],
    2220500: ["First Intention", "ark_passive_bm_1", {}, 1, 2, 1],
    2220600: ["Esoteric Skill Enhancement", "ark_passive_bm_3", {}, 1, 2, 2],
    2220700: ["Esoteric Combustion", "ark_passive_01_17", {}, 1, 2, 3],
    2220800: ["Arrive Empty", "ark_passive_01_4", {}, 1, 3, 0],
    2220900: ["Esoteric Origin", "ark_passive_bm_4", {}, 1, 3, 1],
    2221e3: ["Overconsumption", "ark_passive_bm_5", {}, 1, 3, 2],
    2221100: ["Esoteric Skill Preparation", "ark_passive_bm_6", {}, 1, 3, 3],
    224e4: ["Energy Overflow I", "ark_passive_so_4", {}, 1, 0, 1],
    2240100: ["Robust Spirit", "ark_passive_so_2", {}, 1, 0, 2],
    2240200: ["Energy Forbiddance", "ark_passive_so_3", {}, 1, 1, 1],
    2240300: ["Energy Activation", "ark_passive_01_52", {}, 1, 1, 2],
    2240400: ["Natural Body", "ark_passive_01_5", {}, 1, 2, 0],
    2240500: ["Energy Overflow II", "ark_passive_so_1", {}, 1, 2, 1],
    2240600: ["Hype Enhancement", "ark_passive_so_5", {}, 1, 2, 2],
    2240700: ["Keen Force", "ark_passive_01_1", {}, 1, 2, 3],
    2240800: ["Energy Practice", "ark_passive_01_42", {}, 1, 3, 0],
    2240900: ["Energy Explosion", "ark_passive_so_7", {}, 1, 3, 1],
    2241e3: ["Limit Break", "ark_passive_so_8", {}, 1, 3, 2],
    2241100: ["Recoil Control", "ark_passive_so_9", {}, 1, 3, 3],
    2225e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2225100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2225200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2225300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2225400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2225500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2225600: ["Swift Footwork", "ark_passive_bm_7", {}, 2, 1, 0],
    2225700: ["Thrust Kick", "ark_passive_bm_8", {}, 2, 1, 1],
    2225800: ["Focus Kick", "ark_passive_bm_9", {}, 2, 1, 2],
    2225900: ["Simplify", "ark_passive_bm_10", {}, 2, 1, 3],
    2245e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2245100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2245200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2245300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2245400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2245500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2245600: ["Unbreakable", "ark_passive_so_10", {}, 2, 1, 0],
    2245700: ["Sky Walk", "ark_passive_so_11", {}, 2, 1, 1],
    2245800: ["Final Strike", "ark_passive_so_12", {}, 2, 1, 2],
    2245900: ["Level Adaptation", "ark_passive_so_13", {}, 2, 1, 3],
    2235e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2235100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2235200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2235300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2235400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2235500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2235600: ["Rage Fist", "ark_passive_if_7", {}, 2, 1, 0],
    2235700: ["Final Explosion", "ark_passive_if_8", {}, 2, 1, 1],
    2235800: ["Shock Explosion", "ark_passive_if_9", {}, 2, 1, 2],
    2235900: ["Concise Strike", "ark_passive_if_10", {}, 2, 1, 3],
    2345e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2345100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2345200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2345300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2345400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2345500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2345600: ["Powerful Strike", "ark_passive_lm_9", {}, 2, 1, 0],
    2345700: ["Final Decision", "ark_passive_lm_10", {}, 2, 1, 1],
    2345800: ["Piercing Fatal Blow", "ark_passive_lm_11", {}, 2, 1, 2],
    2345900: ["Draconic Shout", "ark_passive_lm_12", {}, 2, 1, 3],
    247e4: ["Brawl King Storm", "ark_passive_ifm_1", {}, 1, 0, 1],
    2470100: ["Asura's Path", "ark_passive_ifm_4", {}, 1, 0, 2],
    2470200: ["Hypogastric Breathing", "ark_passive_ifm_2", {}, 1, 1, 1],
    2470300: ["Lethal Fist", "ark_passive_ifm_5", {}, 1, 1, 2],
    2470400: ["Brawl King Acuity", "ark_passive_01_17", {}, 1, 2, 0],
    2470500: ["Brawl King Twelve Forms: Falling Blossoms Enhancement", "ark_passive_ifm_3", {}, 1, 2, 1],
    2470600: ["Asura Iron Body", "ark_passive_ifm_6", {}, 1, 2, 2],
    2470700: ["All-Out War", "ark_passive_01_45", {}, 1, 2, 3],
    2470800: ["Energy Shield", "ark_passive_ifm_7", {}, 1, 3, 0],
    2470900: ["Brawl King Twelve Forms: Violent Waves", "ark_passive_ifm_8", {}, 1, 3, 1],
    2471e3: ["Trance", "ark_passive_ifm_9", {}, 1, 3, 2],
    2471100: ["Defensive Speculation Enhancement", "ark_passive_ifm_10", {}, 1, 3, 3],
    239e4: ["Esoteric Flurry", "ark_passive_bmm_1", {}, 1, 0, 1],
    2390100: ["Deathblow I", "ark_passive_bmm_2", {}, 1, 0, 2],
    2390200: ["Untouchable", "ark_passive_bmm_3", {}, 1, 1, 1],
    2390300: ["Orb Bonus", "ark_passive_bmm_5", {}, 1, 1, 2],
    2390400: ["Rear Ambush", "ark_passive_01_16", {}, 1, 2, 0],
    2390500: ["Esoteric Skill Focus", "ark_passive_01_15", {}, 1, 2, 1],
    2390600: ["Deathblow II", "ark_passive_01_19", {}, 1, 2, 2],
    2390700: ["Lethal Esoteric Skill", "ark_passive_01_2", {}, 1, 2, 3],
    2390800: ["Taijutsu Enhancement", "ark_passive_bmm_6", {}, 1, 3, 0],
    2390900: ["Flurry Enhancement", "ark_passive_bmm_7", {}, 1, 3, 1],
    2391e3: ["Orb's Blessing", "ark_passive_bmm_8", {}, 1, 3, 2],
    2391100: ["Fully Charged", "ark_passive_bmm_9", {}, 1, 3, 3],
    2395e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2395100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2395200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2395300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2395400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2395500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2395600: ["Focus Hit", "ark_passive_bmm_10", {}, 2, 1, 0],
    2395700: ["Shortened Strike", "ark_passive_bmm_11", {}, 2, 1, 1],
    2395800: ["High-Speed Recharge", "ark_passive_bmm_12", {}, 2, 1, 2],
    2395900: ["Efficient Strike", "ark_passive_bmm_13", {}, 2, 1, 3],
    2475e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2475100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2475200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2475300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2475400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2475500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2475600: ["Heavenly King's Wild Dance", "ark_passive_ifm_11", {}, 2, 1, 0],
    2475700: ["Honest Attack", "ark_passive_ifm_12", {}, 2, 1, 1],
    2475800: ["Shock Explosion", "ark_passive_ifm_13", {}, 2, 1, 2],
    2475900: ["Four-Way Strike", "ark_passive_ifm_14", {}, 2, 1, 3],
    229e4: ["Tactical Bullet", "ark_passive_dh_17", {}, 1, 0, 1],
    2290100: ["Pistoleer", "ark_passive_dh_4", {}, 1, 0, 2],
    2290200: ["Ammo Supplement", "ark_passive_dh_18", {}, 1, 1, 1],
    2290300: ["Fancy Footwork", "ark_passive_01_11", {}, 1, 1, 2],
    2290400: ["Specialist's Movement", "ark_passive_dh_20", {}, 1, 2, 0],
    2290500: ["Precision Shot Training", "ark_passive_dh_19", { crit_rate: 0.08, crit_damage: [0.08, 0.11, 0.14]}, 1, 2, 1],
    2290600: ["Handgun Enhancement", "ark_passive_dh_3", {}, 1, 2, 2],
    2290700: ["Quick Draw", "ark_passive_01_28", {}, 1, 2, 3],
    2290800: ["High Explosive Shot", "ark_passive_01_68", {}, 1, 3, 0],
    2290900: ["Strategic Garb", "ark_passive_dh_5", {}, 1, 3, 1],
    2291e3: ["Secret Weapon", "ark_passive_dh_7", {}, 1, 3, 2],
    2291100: ["Shining Bullet", "ark_passive_dh_8", {}, 1, 3, 3],
    2295e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2295100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2295200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2295300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2295400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2295500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2295600: ["Hurricane", "ark_passive_dh_9", {}, 2, 1, 0],
    2295700: ["Quick Storm", "ark_passive_dh_10", {}, 2, 1, 1],
    2295800: ["Full Range", "ark_passive_dh_11", {}, 2, 1, 2],
    2295900: ["Shotgun Reload", "ark_passive_dh_12", {}, 2, 1, 3],
    2296e3: ["Fire Support", "ark_passive_dh_13", {}, 2, 1, 4],
    2296100: ["Reinforcement", "ark_passive_dh_14", {}, 2, 1, 5],
    23e5: ["Barrage Enhancement", "ark_passive_bs_1", {}, 1, 0, 1],
    2300100: ["Firepower Enhancement", "ark_passive_bs_2", {}, 1, 0, 2],
    2300200: ["Barrage Charge", "ark_passive_01_52", {}, 1, 1, 1],
    2300300: ["Sustained Firepower", "ark_passive_01_48", {}, 1, 1, 2],
    2300400: ["Swiftness Barrage", "ark_passive_01_6", {}, 1, 2, 0],
    2300500: ["Barrage Output Enhancement", "ark_passive_01_3", { crit_rate: [0.2, 0.3, 0.4]}, 1, 2, 1],
    2300600: ["Overheat", "ark_passive_01_15", {}, 1, 2, 2],
    2300700: ["Maintain Firepower", "ark_passive_bs_3", {}, 1, 2, 3],
    2300800: ["Positioning System", "ark_passive_bs_4", {}, 1, 3, 0],
    2300900: ["Summon A.C.T", "ark_passive_bs_5", {}, 1, 3, 1],
    2301e3: ["Barrage Attack", "ark_passive_bs_7", {}, 1, 3, 2],
    2301100: ["Kindle", "ark_passive_bs_6", {}, 1, 3, 3],
    2305e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2305100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2305200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2305300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2305400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2305500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2305600: ["Improved Payload", "ark_passive_bs_8", {}, 2, 1, 0],
    2305700: ["Explosive", "ark_passive_bs_9", {}, 2, 1, 1],
    2305800: ["Additional Missile", "ark_passive_bs_10", {}, 2, 1, 2],
    2305900: ["Launcher Acceleration", "ark_passive_bs_11", {}, 2, 1, 3],
    235e4: ["Evolutionary Legacy", "ark_passive_sc_1", {}, 1, 0, 1],
    2350100: ["Arthetinean Skill", "ark_passive_sc_2", {}, 1, 0, 2],
    2350200: ["Oversync", "ark_passive_01_11", {}, 1, 1, 1],
    2350300: ["Drone Defense System", "ark_passive_01_64", {}, 1, 1, 2],
    2350400: ["Core Reaction Amplification", "ark_passive_sc_3", {}, 1, 2, 0],
    2350500: ["Combat Mode", "ark_passive_01_18", {}, 1, 2, 1],
    2350600: ["Skill Upgrade", "ark_passive_01_28", {}, 1, 2, 2],
    2350700: ["Tactical Reload", "buff_601", {}, 1, 2, 3],
    2350800: ["Self-Destruct Sequence", "ark_passive_sc_14", {}, 1, 3, 0],
    2350900: ["EX - Zero Point", "ark_passive_sc_5", {}, 1, 3, 1],
    2351e3: ["Enchanted Core", "ark_passive_sc_6", {}, 1, 3, 2],
    2351100: ["Collaboration", "ark_passive_sc_7", {}, 1, 3, 3],
    2355e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2355100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2355200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2355300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2355400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2355500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2355600: ["Optimization Mode", "ark_passive_sc_8", {}, 2, 1, 0],
    2355700: ["Focused Power", "ark_passive_sc_15", {}, 2, 1, 1],
    2355800: ["Autopilot", "ark_passive_sc_10", {}, 2, 1, 2],
    2355900: ["Sync Combination", "ark_passive_sc_11", {}, 2, 1, 3],
    228e4: ["Death Strike", "ark_passive_he_1", {}, 1, 0, 1],
    2280100: ["Loyal Companion", "ark_passive_he_2", {}, 1, 0, 2],
    2280200: ["Hawk Meter Recovery", "ark_passive_01_49", {}, 1, 1, 1],
    2280300: ["Hawk Support", "ark_passive_01_18", { increased_attack_power: 0.05 }, 1, 1, 2],
    2280400: ["Faint Note", "ark_passive_01_29", {}, 1, 2, 0],
    2280500: ["Final Mark", "ark_passive_he_3", {}, 1, 2, 1],
    2280600: ["Storm Mark", "ark_passive_01_25", {}, 1, 2, 2],
    2280700: ["Silverhawk Enhancement", "ark_passive_01_2", {}, 1, 2, 3],
    2280800: ["MP Recovery", "ark_passive_01_35", {}, 1, 3, 0],
    2280900: ["Silverhawk Assault", "ark_passive_he_4", {}, 1, 3, 1],
    2281e3: ["Storm Hunter", "ark_passive_he_5", {}, 1, 3, 2],
    2281100: ["Deep Learning", "ark_passive_he_6", {}, 1, 3, 3],
    2285e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2285100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2285200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2285300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2285400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2285500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2285600: ["High-Speed Rotation", "ark_passive_he_7", {}, 2, 1, 0],
    2285700: ["Ally", "ark_passive_he_8", {}, 2, 1, 1],
    2285800: ["Additional Action", "ark_passive_he_9", {}, 2, 1, 2],
    2285900: ["Task Force", "ark_passive_he_10", {}, 2, 1, 3],
    238e4: ["Peacemaker: Handgun", "ark_passive_dhf_1", {}, 1, 0, 1],
    2380100: ["Time to Hunt", "ark_passive_dhf_4", { crit_rate: 0.05}, 1, 0, 2],
    2380200: ["Peacemaker: Shotgun", "ark_passive_dhf_2", {}, 1, 1, 1],
    2380300: ["Vital Point Shot", "ark_passive_01_5", { crit_damage: 0.09}, 1, 1, 2],
    2380400: ["Secret Bullet", "ark_passive_dhf_5", {}, 1, 2, 0],
    2380500: ["Peacemaker: Rifle", "ark_passive_dhf_3", { /* from 4. node but we consider it from class */ crit_rate: 0.15}, 1, 2, 1],
    2380600: ["Rifle Expertise", "ark_passive_01_3", { crit_rate: 0.1 }, 1, 2, 2],
    2380700: ["Vital Point Expert", "ark_passive_dhf_6", {}, 1, 2, 3],
    2380800: ["Gun Replacement Skill", "ark_passive_dhf_7", {}, 1, 3, 0],
    2380900: ["Pacifist", "ark_passive_dhf_8", {}, 1, 3, 1],
    2381e3: ["Assault Sniper", "ark_passive_dhf_9", {}, 1, 3, 2],
    2381100: ["Sniper's Will", "ark_passive_dhf_10", {}, 1, 3, 3],
    2385e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2385100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2385200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2385300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2385400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2385500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2385600: ["High-Capacity Magazine", "ark_passive_dhf_11", {}, 2, 1, 0],
    2385700: ["Flash", "ark_passive_dhf_12", {}, 2, 1, 1],
    2385800: ["Wind Walk", "ark_passive_dhf_13", {}, 2, 1, 2],
    2385900: ["Aerial Stunt", "ark_passive_dhf_14", {}, 2, 1, 3],
    2386e3: ["Enhanced Shot", "ark_passive_dhf_15", {}, 2, 1, 4],
    2386100: ["Extrasensory Shot", "ark_passive_dhf_16", {}, 2, 1, 5],
    219e4: ["Grace of the Empress", "ark_passive_ac_1", [
        uptimed({ crit_rate: cons(1) }, 0.31), /*cull */
        uptimed({ crit_rate: cons(0.276) }, 0.80), /*stream of edge */
        {
            crit_damage: cons(0.5 * 0.31 + /* class*/ 0.775 * 0.88), // cull
            cooldown_reduction: cons(0.2 * 0.21) // moon
        }
    ], 1, 0, 1],
    2190100: ["Order of the Emperor", "ark_passive_ac_2", [
        uptimed({ crit_rate: cons(1) }, 0.33), /*cull */
        uptimed({ crit_rate: cons(0.2) }, 0.21), /*chancelor */
        uptimed({ crit_rate: cons(0.276) }, 0.98), /*stream of edge */
        {
            crit_damage: cons(0.5 * 0.33 + /* class*/ 0.775 * 0.91), // cull
            cooldown_reduction: cons(0.2 * 0.36) // moon
        }
    ], 1, 0, 2],
    2190200: ["Scheme of the Empress", "ark_passive_ac_5", {}, 1, 1, 1],
    2190300: ["Gift of the Emperor", "ark_passive_ac_6", {}, 1, 1, 2],
    2190400: ["Avarice of the Empress", "ark_passive_01_21", {}, 1, 2, 0],
    2190500: ["Banquet of the Empress", "ark_passive_ac_3", {}, 1, 2, 1],
    2190600: ["Feast of the Emperor", "ark_passive_ac_4", {}, 1, 2, 2],
    2190700: ["Mercy of the Emperor", "ark_passive_01_6", {}, 1, 2, 3],
    2190800: ["Knight of the Empress", "ark_passive_ac_7", {}, 1, 3, 0],
    2190900: ["Whispers of the Empress", "ark_passive_01_23", {}, 1, 3, 1],
    2191e3: ["Another Emperor", "ark_passive_ac_8", {}, 1, 3, 2],
    2192e3: ["Judgment of the Emperor", "ark_passive_01_18", {}, 1, 3, 3],
    2195e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2195100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2195200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2195300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2195400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2195500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2195600: ["Hidden Card", "ark_passive_ac_9", {}, 2, 1, 0],
    2195700: ["False Deal", "ark_passive_ac_10", {}, 2, 1, 1],
    2195800: ["Demonic Deception", "ark_passive_ac_11", {}, 2, 1, 2],
    2195900: ["Quads", "ark_passive_ac_12", {}, 2, 1, 3],
    22e5: ["Communication Overflow", "ark_passive_sm_1", {}, 1, 0, 1],
    2200100: ["Master Summoner", "ark_passive_sm_2", {}, 1, 0, 2],
    2200200: ["Cleverness", "ark_passive_sm_3", {}, 1, 1, 1],
    2200300: ["Mind Concentration", "ark_passive_sm_4", {}, 1, 1, 2],
    2200400: ["Communication Enhancement", "ark_passive_01_6", {}, 1, 2, 0],
    2200500: ["Elemental's Harmony", "ark_passive_sm_5", {}, 1, 2, 1],
    2200600: ["Ancient Strength", "ark_passive_sm_6", { crit_rate: [0.05, 0.1, 0.16]}, 1, 2, 2],
    2200700: ["Ancient Energy Enhancement", "ark_passive_01_3", {}, 1, 2, 3],
    2200800: ["Elemental's Fury", "ark_passive_01_29", {}, 1, 3, 0],
    2200900: ["Fruits of Empathy", "ark_passive_sm_7", {}, 1, 3, 1],
    2201e3: ["Ancient Blessing", "ark_passive_sm_8", {}, 1, 3, 2],
    2201100: ["Ancient Whisper", "ark_passive_sm_9", {}, 1, 3, 3],
    2205e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2205100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2205200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2205300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2205400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2205500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2205600: ["Enlightenment", "ark_passive_sm_10", {}, 2, 1, 0],
    2205700: ["Mariposa's Blessing", "ark_passive_sm_11", {}, 2, 1, 1],
    2205800: ["Tame", "ark_passive_sm_12", {}, 2, 1, 2],
    2205900: ["Igna's Breath", "ark_passive_sm_13", {}, 2, 1, 3],
    221e4: ["Gift of Salvation", "ark_passive_bd_1", {}, 1, 0, 1],
    2210100: ["True Courage", "ark_passive_bd_2", {}, 1, 0, 2],
    2210200: ["Desperate Salvation", "ark_passive_bd_3", {}, 1, 1, 1],
    2210300: ["Endless Hymn", "ark_passive_bd_4", {}, 1, 1, 2],
    2210400: ["Serenade of Tolerance", "ark_passive_01_33", {}, 1, 2, 0],
    2210500: ["Serenade of Amplification", "ark_passive_bd_7", {}, 1, 2, 1],
    2210600: ["Hymn of Valor", "ark_passive_bd_6", {}, 1, 2, 2],
    2210700: ["Hymn of Combat", "ark_passive_bd_8", {}, 1, 2, 3],
    2210800: ["Serenade of Branding", "ark_passive_bd_9", {}, 1, 3, 0],
    2210900: ["Serenade of Unison", "ark_passive_bd_5", {}, 1, 3, 1],
    2211e3: ["Hymn: Tempest", "ark_passive_bd_10", {}, 1, 3, 2],
    2211100: ["Vagabond", "ark_passive_01_71", {}, 1, 3, 3],
    2215e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2215100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2215200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2215300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2215400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2215500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2215600: ["Unending Inspiration", "ark_passive_bd_12", {}, 2, 1, 0],
    2215700: ["Rhapsody of Abundance", "ark_passive_bd_11", {}, 2, 1, 1],
    2215800: ["Ostinato", "ark_passive_bd_13", {}, 2, 1, 2],
    2215900: ["Tinnitus", "ark_passive_bd_14", {}, 2, 1, 3],
    237e4: ["Igniter", "ark_passive_scs_1", {}, 1, 0, 1],
    2370100: ["Reflux", "ark_passive_scs_2", {}, 1, 0, 2],
    2370200: ["Igniter's Ember", "ark_passive_scs_3", uptimed({ crit_rate: 0.1 }, 0.88), 1, 1, 1],
    2370300: ["Reflux Energy", "ark_passive_scs_4", {}, 1, 1, 2],
    2370400: ["Firepower Charge", "ark_passive_01_22", {}, 1, 2, 0],
    2370500: ["Ignite", "ark_passive_scs_5", { crit_damage: [0.18 * 0.88, 0.36 * 0.88, 0.55 * 0.88] }, 1, 2, 1],
    2370600: ["Reflux Enhancement", "ark_passive_01_3", {}, 1, 2, 2],
    2370700: ["Arcane Release Seal", "ark_passive_01_41", {}, 1, 2, 3],
    2370800: ["Blink Explosion", "ark_passive_01_42", {}, 1, 3, 0],
    2370900: ["Magick Cycle", "ark_passive_scs_8", {}, 1, 3, 1],
    2371e3: ["Magick Charge", "ark_passive_scs_6", {}, 1, 3, 2],
    2371100: ["Overload", "ark_passive_scs_7", {}, 1, 3, 3],
    2375e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2375100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2375200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2375300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2375400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2375500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2375600: ["Great Explosion", "ark_passive_scs_9", {}, 2, 1, 0],
    2375700: ["Outburst", "ark_passive_scs_10", {}, 2, 1, 1],
    2375800: ["Piercing Glacier", "ark_passive_scs_11", {}, 2, 1, 2],
    2375900: ["Frost Mastery", "ark_passive_scs_12", {}, 2, 1, 3],
    231e4: ["Sun's Balance", "ark_passive_01_32", {}, 1, 0, 1],
    2310100: ["Full Bloom", "ark_passive_yy_1", {}, 1, 1, 1],
    2310200: ["Fading Sunlight", "ark_passive_01_64", {}, 1, 2, 0],
    2310300: ["Blessing of the Sun", "ark_passive_yy_3", {}, 1, 2, 1],
    2310400: ["Brand Enhancement", "ark_passive_yy_6", {}, 1, 3, 0],
    2310500: ["Setting Moon", "ark_passive_yy_7", {}, 1, 3, 1],
    2310600: ["Recurrence", "ark_passive_yy_2", {}, 1, 0, 2],
    2310700: ["Moon's Balance", "ark_passive_01_10", {}, 1, 1, 2],
    2310800: ["Lunar Blessing", "ark_passive_yy_5", {}, 1, 2, 2],
    2310900: ["Moon Shadow", "ark_passive_01_22", {}, 1, 2, 3],
    2311e3: ["Rising Moon", "ark_passive_yy_8", {}, 1, 3, 2],
    2311100: ["Vagabond", "ark_passive_01_71", {}, 1, 3, 3],
    2315e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2315100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2315200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2315300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2315400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2315500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2315600: ["Dragon Gem", "ark_passive_yy_10", {}, 2, 1, 0],
    2315700: ["Ascension", "ark_passive_yy_9", {}, 2, 1, 1],
    2315800: ["Explosive Ink", "ark_passive_yy_11", {}, 2, 1, 2],
    2315900: ["Earthshaker", "ark_passive_yy_12", {}, 2, 1, 3],
    232e4: ["Wind Fury", "ark_passive_wa_1", {}, 1, 0, 1],
    2320100: ["Ventilation", "ark_passive_01_54", {}, 1, 1, 1],
    2320200: ["Nature's Flow", "ark_passive_01_17", {}, 1, 2, 0],
    2320300: ["Swiftness", "ark_passive_wa_2", { crit_damage: 0.16, crit_rate: [0.028, 0.06, 0.12]}, 1, 2, 1],
    2320400: ["Path of the Wind", "ark_passive_wa_3", {}, 1, 3, 0],
    2320500: ["Space Cleave", "ark_passive_wa_4", {}, 1, 3, 1],
    2320600: ["Drizzle", "ark_passive_01_56", {}, 1, 0, 2],
    2320700: ["Rain Shield", "ark_passive_wa_5", {}, 1, 1, 2],
    2320800: ["Sunny Day", "ark_passive_01_21", {}, 1, 2, 2],
    2320900: ["Training", "ark_passive_01_5", {}, 1, 2, 3],
    2321e3: ["Dazzling Days", "ark_passive_wa_6", {}, 1, 3, 2],
    2321100: ["Steam Recharge", "ark_passive_01_22", {}, 1, 3, 3],
    2325e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2325100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2325200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2325300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2325400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2325500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2325600: ["Perfect Cleave", "ark_passive_wa_7", {}, 2, 1, 0],
    2325700: ["Trained Cleave", "ark_passive_wa_8", {}, 2, 1, 1],
    2325800: ["Temperature Increase", "ark_passive_wa_9", {}, 2, 1, 2],
    2325900: ["Sunshine's Embrace", "ark_passive_wa_10", {}, 2, 1, 3],
    233e4: ["Ferality", "ark_passive_dr_1", {}, 1, 0, 1],
    2330100: ["Phantom Beast Awakening", "dr_skill_01_24", {}, 1, 0, 2],
    2330200: ["Awakened Potential", "ark_passive_dr_2", {}, 1, 1, 1],
    2330300: ["Vigor", "ark_passive_01_52", {}, 1, 1, 2],
    2330400: ["Bestial Resonance", "ark_passive_dr_3", {}, 1, 2, 0],
    2330500: ["Wild Impulse", "ark_passive_dr_4", {}, 1, 2, 1],
    2330600: ["Phantom Beast Spirit", "ark_passive_dr_9", {}, 1, 2, 2],
    2330700: ["Natural Talent", "ark_passive_01_18", {}, 1, 2, 3],
    2330800: ["Swiftness", "ark_passive_dr_7", {}, 1, 3, 0],
    2330900: ["Hunter Instinct", "ark_passive_dr_8", {}, 1, 3, 1],
    2331e3: ["Agile Gait", "ark_passive_dr_5", {}, 1, 3, 2],
    2331100: ["Phantom Beast Shaman", "ark_passive_01_55", {}, 1, 3, 3],
    2335e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2335100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2335200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2335300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2335400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2335500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2335600: ["Ancient Strength", "ark_passive_dr_10", {}, 2, 1, 0],
    2335700: ["Nimble Movement", "ark_passive_dr_11", {}, 2, 1, 1],
    2335800: ["Enhance Unity", "ark_passive_dr_12", {}, 2, 1, 2],
    2335900: ["Foxbear Fury", "ark_passive_dr_13", {}, 2, 1, 3],
    216e4: ["Brawn", "ark_passive_01_64", {}, 1, 0, 1],
    2160010: ["Mayhem", "ark_passive_bk_1", { crit_rate: 0.1 }, 1, 0, 2],
    2160020: ["Invigoration", "ark_passive_01_9", {}, 1, 1, 1],
    2160030: ["Restore Fury", "ark_passive_01_63", {}, 1, 1, 2],
    2160040: ["Physical Awakening", "ark_passive_01_34", {}, 1, 2, 0],
    2160050: ["Berserker Technique", "ark_passive_bk_2", {}, 1, 2, 1],
    2160060: ["Cold Fury", "ark_passive_bk_3", {}, 1, 2, 2],
    2160070: ["Provocation", "ark_passive_01_3", {}, 1, 2, 3],
    2160080: ["Fury Consumption", "ark_passive_bk_7", {}, 1, 3, 0],
    2160090: ["Burst Enhancement", "ark_passive_bk_5", {}, 1, 3, 1],
    2160100: ["Dark Enhancement", "ark_passive_bk_6", {}, 1, 3, 2],
    2160110: ["Stampede", "ark_passive_bk_4", {}, 1, 3, 3],
    2165e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2165100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2165200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2165300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2165400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2165500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2165600: ["Mutilate", "ark_passive_bk_8", {}, 2, 1, 0],
    2165700: ["Fury Cycle", "ark_passive_bk_9", {}, 2, 1, 1],
    2165800: ["Fury Amplification", "ark_passive_bk_10", {}, 2, 1, 2],
    2165900: ["Slash", "ark_passive_bk_11", {}, 2, 1, 3],
    217e4: ["Spear Training", "ark_passive_01_5", { crit_rate: 0.05}, 1, 0, 1],
    2170010: ["Impregnable Fortress", "ark_passive_01_66", {}, 1, 0, 2],
    2170020: ["Sophistication", "ark_passive_01_2", { crit_damage: [0.1, 0.3, 0.5]}, 1, 1, 1],
    2170030: ["Combat Readiness", "ark_passive_gl_1", {}, 1, 1, 2],
    2170040: ["Increase Efficiency", "ark_passive_01_34", {}, 1, 2, 0],
    2170050: ["Lone Knight", "ark_passive_gl_2", {}, 1, 2, 1],
    2170060: ["Skilled Tactician", "ark_passive_gl_3", {}, 1, 2, 2],
    2170070: ["Strategy Training", "ark_passive_01_7", {}, 1, 2, 3],
    2170080: ["Spear Master", "ark_passive_gl_5", {}, 1, 3, 0],
    2170090: ["Gunlance Hit Stance", "ark_passive_gl_6", {}, 1, 3, 1],
    2170100: ["Vanguard's Mindset", "ark_passive_gl_7", {}, 1, 3, 2],
    2170110: ["Strategic Move", "ark_passive_gl_8", {}, 1, 3, 3],
    2175e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2175100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2175200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2175300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2175400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2175500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2175600: ["Reckless", "ark_passive_gl_9", {}, 2, 1, 0],
    2175700: ["Vanguard's Protection", "ark_passive_gl_10", {}, 2, 1, 1],
    2175800: ["Strike Spear", "ark_passive_gl_11", {}, 2, 1, 2],
    2175900: ["Quick Spear", "ark_passive_gl_12", {}, 2, 1, 3],
    218e4: ["Gravity Armor", "ark_passive_dt_1", {}, 1, 0, 1],
    2180010: ["Gravity Shock", "ark_passive_dt_2", {}, 1, 0, 2],
    2180020: ["Sharp Hammer", "ark_passive_01_5", { crit_rate: 0.06 }, 1, 1, 1],
    2180030: ["Gravity Charge", "ark_passive_01_49", {}, 1, 1, 2],
    2180040: ["Release Enhancement", "ark_passive_01_15", {}, 1, 2, 0],
    2180050: ["Rage Hammer", "ark_passive_01_1", { crit_damage: 0.21}, 1, 2, 1],
    2180060: ["Gravity Training", "ark_passive_01_8", uptimed({ crit_rate: 0.1 }, 0.65), 1, 2, 2],
    2180070: ["Inertia Enhancement", "ark_passive_01_7", {}, 1, 2, 3],
    2180080: ["Gravity Conversion", "ark_passive_dt_3", {}, 1, 3, 0],
    2180090: ["Gravity Release", "ark_passive_dt_4", {}, 1, 3, 1],
    2180100: ["New Core", "ark_passive_dt_5", {}, 1, 3, 2],
    2180110: ["Gravity Acceleration", "ark_passive_dt_6", {}, 1, 3, 3],
    2185e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2185100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2185200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2185300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2185400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2185500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2185600: ["Concentrated Attack", "ark_passive_dt_7", {}, 2, 1, 0],
    2185700: ["Gravity Preservation", "ark_passive_dt_8", {}, 2, 1, 1],
    2185800: ["Gravity Accumulation", "ark_passive_dt_9", {}, 2, 1, 2],
    2185900: ["Circulation", "ark_passive_dt_10", {}, 2, 1, 3],
    236e4: ["Sacred Duty", "ark_passive_01_48", {}, 1, 0, 1],
    2360010: ["Holy Protection", "ark_passive_hk_1", {}, 1, 0, 2],
    2360020: ["Piety Training", "ark_passive_01_49", {}, 1, 1, 1],
    2360030: ["Blessed Aura", "ark_passive_hk_2", {}, 1, 1, 2],
    2360040: ["Punishment Enhancement", "ark_passive_01_45", {}, 1, 2, 0],
    2360050: ["Judgment", "ark_passive_hk_3", {}, 1, 2, 1],
    2360060: ["Godly Grace", "ark_passive_01_54", {}, 1, 2, 2],
    2360070: ["Healing Light", "ark_passive_hk_6", {}, 1, 2, 3],
    2360080: ["Enthusiasm", "ark_passive_01_2", {}, 1, 3, 0],
    2360090: ["Divine Knight", "ark_passive_hk_5", {}, 1, 3, 1],
    2360100: ["Deepening Faith", "ark_passive_hk_4", {}, 1, 3, 2],
    2360110: ["Light's Vestige", "ark_passive_hk_7", {}, 1, 3, 3],
    2365e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2365100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2365200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2365300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2365400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2365500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2365600: ["Immediate Judgment", "ark_passive_hk_8", {}, 2, 1, 0],
    2365700: ["Execution Sentence", "ark_passive_hk_9", {}, 2, 1, 1],
    2365800: ["Sacred Light", "ark_passive_hk_10", {}, 2, 1, 2],
    2365900: ["Righteous Light", "ark_passive_hk_11", {}, 2, 1, 3],
    245e4: ["Unwavering Strength", "ark_passive_01_14", {}, 1, 0, 1],
    2450010: ["Endless Fury", "ark_passive_01_54", {}, 1, 0, 2],
    2450020: ["Enhanced Skill", "ark_passive_01_3", { crit_rate: 0.05 }, 1, 1, 1],
    2450030: ["Predator", "ark_passive_bkf_2", {}, 1, 1, 2],
    2450040: ["Quench Thirst", "ark_passive_01_34", {}, 1, 2, 0],
    2450050: ["Punisher", "ark_passive_bkf_1", {}, 1, 2, 1],
    2450060: ["Wrath", "ark_passive_01_1", { crit_damage: 0.17}, 1, 2, 2],
    2450070: ["Combat Instinct", "ark_passive_01_5", {}, 1, 2, 3],
    2450080: ["Crushing Fear", "ark_passive_bkf_3", {}, 1, 3, 0],
    2450090: ["Unstoppable Fury", "ark_passive_bkf_4", {}, 1, 3, 1],
    2450100: ["Intensifying Fury", "ark_passive_bkf_5", {}, 1, 3, 2],
    2450110: ["Reckless Attack", "ark_passive_bkf_6", {}, 1, 3, 3],
    2455e3: ["Transcendent Power", "ark_passive_02_3", {}, 2, 0, 0],
    2455100: ["Charged Fury", "ark_passive_02_1", {}, 2, 0, 1],
    2455200: ["Awakening Amplifier", "ark_passive_01_54", {}, 2, 0, 2],
    2455300: ["Unleashed Power", "ark_passive_02_2", {}, 2, 0, 3],
    2455400: ["Release Potential", "ark_passive_01_10", {}, 2, 0, 4],
    2455500: ["Instant Spell", "ark_passive_02_5", {}, 2, 0, 5],
    2455600: ["Accumulated Power", "ark_passive_bkf_7", {}, 2, 1, 0],
    2455700: ["Brave Charge", "ark_passive_bkf_8", {}, 2, 1, 1],
    2455800: ["Maximum Effort", "ark_passive_bkf_9", {}, 2, 1, 2],
    2455900: ["Skilled Strength", "ark_passive_bkf_10", {}, 2, 1, 3],
};

export const elixir_names = {
    1e4: "",
    10001: "Strength",
    10002: "Strength",
    10003: "Strength",
    10004: "Strength",
    10005: "Strength",
    10006: "Strength",
    10007: "Strength",
    10008: "Intelligence",
    10009: "Intelligence",
    10010: "Intelligence",
    10011: "Intelligence",
    10012: "Intelligence",
    10013: "Strength",
    10014: "Strength",
    10015: "Strength",
    10016: "Strength",
    10017: "Strength",
    10018: "Strength",
    10019: "Strength",
    10020: "Dexterity",
    10021: "Dexterity",
    10022: "Dexterity",
    10023: "Dexterity",
    10024: "Dexterity",
    10025: "Dexterity",
    10026: "Dexterity",
    10027: "Dexterity",
    10028: "Dexterity",
    10029: "Dexterity",
    10030: "Dexterity",
    10031: "Intelligence",
    10032: "Intelligence",
    10033: "Dexterity",
    10034: "Strength",
    10035: "Intelligence",
    10100: "Atk. Power",
    10101: "Weapon Power",
    10102: "Escape Expert",
    10103: "Master of Evasion",
    10104: "MP",
    10105: "Blessing of Life",
    10106: "Resource Blessing",
    10107: "Vagabond",
    10108: "Stagger",
    10109: "Potion Poisoning",
    10110: "Explosives Expert",
    11e3: "Luck (Order)",
    11001: "Critical (Order)",
    11002: "Master (Order)",
    11003: "Fierce Strength (Order)",
    11004: "Bladed Shield (Order)",
    11005: "Vanguard (Order)",
    11006: "Luminary (Order)",
    11007: "Advance (Order)",
    11008: "Faith (Order)",
    12e3: "Boss Damage",
    12001: "Awakening Skill Damage",
    12002: "Shield Enhancement",
    12003: "Healing Enhancement",
    13e3: "Max HP",
    13001: "Incoming Damage Reduction",
    13002: "Phy. Defense",
    13003: "Mag. Defense",
    14e3: "Crit Damage",
    14001: "Additional Damage",
    14002: "Specialty Gain",
    14003: "Ally Enhancement",
    15e3: "Luck (Chaos)",
    15001: "Critical (Chaos)",
    15002: "Master (Chaos)",
    15003: "Fierce Strength (Chaos)",
    15004: "Bladed Shield (Chaos)",
    15005: "Vanguard (Chaos)",
    15006: "Luminary (Chaos)",
    15007: "Advance (Chaos)",
    15008: "Faith (Chaos)"
} as const;

export type ScaledStat = {
    [T in keyof Stats]: number[] | number;
};

export const elixir_level = [0, 0, 0, 1, 1, 1, 2, 2, 3, 4, 5];

export const common_elixir_effects = new Set([
    "Strength",
    "Strength",
    "Intelligence",
    "Dexterity",
    "Atk. Power",
    "Weapon Power",
    "Escape Expert",
    "Master of Evasion",
    "MP",
    "Blessing of Life",
    "Resource Blessing",
    "Vagabond",
    "Stagger",
    "Potion Poisoning",
    "Explosives Expert",
]);

export const elixir_effects: Record<(typeof elixir_names)[keyof typeof elixir_names], Partial<ScaledStat>> = {
    "": {},
    Strength: { main_stat: [720, 1782, 2700, 4050, 5400] },
    Intelligence: { main_stat: [720, 1782, 2700, 4050, 5400] },
    Dexterity: { main_stat: [720, 1782, 2700, 4050, 5400] },
    "Atk. Power": { extra_ap: [122, 253, 383, 575, 767] },
    "Weapon Power": { weapon_power: [236, 488, 740, 1110, 1480] },
    "Escape Expert": {},
    "Master of Evasion": {},
    MP: {},
    "Blessing of Life": {},
    "Resource Blessing": {},
    Vagabond: {},
    Stagger: {},
    "Potion Poisoning": {},
    "Explosives Expert": {},
    "Luck (Order)": { increased_attack_power: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Critical (Order)": { increased_attack_power: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Master (Order)": { increased_attack_power: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Fierce Strength (Order)": { increased_attack_power: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Bladed Shield (Order)": { increased_attack_power: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Vanguard (Order)": { increased_attack_power: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Luminary (Order)": { ap_buff_effect: [0.0064, 0.0132, 0.02, 0.03, 0.04] },
    "Advance (Order)": { ap_buff_effect: [0.0064, 0.0132, 0.02, 0.03, 0.04] },
    "Faith (Order)": { ap_buff_effect: [0.0064, 0.0132, 0.02, 0.03, 0.04] },
    "Boss Damage": { damage_multiplier: [0.0038, 0.0079, 0.012, 0.018, 0.024] },
    "Awakening Skill Damage": {},
    "Shield Enhancement": {},
    "Healing Enhancement": {},
    "Max HP": {},
    "Incoming Damage Reduction": {},
    "Phy. Defense": {},
    "Mag. Defense": {},
    "Crit Damage": { crit_damage: [0.0112, 0.0231, 0.035, 0.0525, 0.07] },
    "Additional Damage": { additional_damage: [0.0049, 0.0102, 0.0155, 0.0232, 0.031] },
    "Specialty Gain": { identity_gain: [0.0064, 0.0132, 0.02, 0.03, 0.04] },
    "Ally Enhancement": { ap_buff_effect: [0.0096, 0.0198, 0.3, 0.045, 0.06] },
    "Luck (Chaos)": { damage_multiplier: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Critical (Chaos)": { damage_multiplier: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Master (Chaos)": { damage_multiplier: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Fierce Strength (Chaos)": { damage_multiplier: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Bladed Shield (Chaos)": { damage_multiplier: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Vanguard (Chaos)": { damage_multiplier: [0.0023, 0.0047, 0.0072, 0.0108, 0.0144] },
    "Luminary (Chaos)": { },
    "Advance (Chaos)": { },
    "Faith (Chaos)": { },
};

export const elixir_sets: Record<string, Partial<ScaledStat>> = {
    Luck: {},
    Critical: { damage_on_crit: [0.06, 0.12] },
    Master: { crit_rate: [0.07, 0.07], additional_damage: [0, 0.085] },
    "Fierce Strength": {},
    "Bladed Shield": {},
    Vanguard: {},
    Luminary: { ap_buff_effect: 0.14, cooldown_reduction: 0.05},
    Advance: { ap_buff_effect: 0.14 }, // bad approximation but noone uses it
    Faith: { ap_buff_effect: 0.14, identity_gain: 0.05 }, 
};

export const transcendence: Record<
    "weapon" | "head" | "upper_body" | "lower_body" | "hand" | "shoulder",
    Partial<ScaledStat>
> = {
    weapon: { extra_ap: [800, 1600, 2400, 3525], brand_power: [0.02, 0.02, 0.04, 0.08], ap_buff_effect: [0, 0.02, 0.02, 0.02] },
    head: { main_stat: [0, 55, 55, 55], weapon_power: [0, 0, 14, 14], extra_ap: [0, 0, 0, 6], ap_buff_effect: [0.0001, 0.0002, 0.0003, 0.0004] },
    upper_body: { weapon_power: [2000, 2000, 4000, 7200] },
    lower_body: { damage_multiplier: [0, 0, 0, 0.015], ap_buff_effect: [0, 0.015, 0.03, 0.06] },
    hand: { main_stat: [4200, 4200, 8400, 12600], ap_buff_effect: [0.01, 0.01, 0.02, 0.03] },
    shoulder: { weapon_power: [1200, 1200, 2400, 3600], ap_buff_effect: [0.01, 0.01, 0.02, 0.03] },
};

function eng(base: number, increase: number) {
    return [base, base + 1 * increase, base + 2 * increase, base + 3 * increase, base + 4 * increase];
}

// min. full legendary
export const engravings: Record<number, [string, string, Partial<ScaledStat>]> = {
    1255: ["Awakening", "buff_113", { awakening_cooldown: 0.5 }],
    1243: ["Necromancy", "buff_29", {}],
    1242: ["Enhanced Shield", "buff_239", {}],
    1288: ["Master Brawler", "ability_224", { damage_multiplier: eng(0.198, 0.007) }],
    1134: ["Drops of Ether", "buff_18", { drops_effect: eng(1, 0.04) }],
    1123: ["Strong Will", "buff_44", {}],
    1142: ["Vital Point Hit", "buff_168", {}],
    1249: ["Ambush Master", "buff_148", { damage_multiplier: eng(0.198, 0.007) }],
    1302: ["Emergency Rescue", "ability_238", {}],
    1238: ["Master's Tenacity", "buff_147", { damage_multiplier: eng(0.14, 0.0075) }],
    1254: ["Raid Captain", "buff_210", { damage_multiplier: eng(0.4 * 0.4, 0.02 * 0.4) }],
    1251: ["Magick Stream", "buff_63", { cooldown_reduction: eng(0.07, 0.0075) }],
    1168: ["MP Efficiency Increase", "buff_166", { damage_multiplier: eng(0.18, 0.0075) }],
    1253: ["Barricade", "buff_170", { damage_multiplier: eng(0.14, 0.0075) }],
    1246: ["Lightning Fury", "buff_191", {}],
    1245: ["Broken Bone", "buff_94", {}],
    1236: ["Crushing Fist", "buff_83", {}],
    1235: ["Fortitude", "buff_66", {}],
    1244: ["Preemptive Strike", "achieve_08_62", {}],
    1300: ["All-Out Attack", "ability_236", { damage_multiplier: eng(0.18, 0.0075) }],
    1121: ["Super Charge", "achieve_06_14", { damage_multiplier: eng(0.18, 0.0075) }],
    1248: ["Contender", "buff_136", {}],
    1298: ["Sight Focus", "ability_234", {}],
    1237: ["Shield Piercing", "buff_89", {}],
    1299: ["Adrenaline", "ability_235", { increased_attack_power: 0.009 * 6, crit_rate: eng(0.14, 0.015) }],
    1111: ["Stabilized Status", "buff_105", { damage_multiplier: eng(0.14, 0.0075) }],
    1107: ["Disrespect", "achieve_04_30", {}],
    1239: ["Divine Protection", "buff_229", {}],
    1110: ["Ether Predator", "buff_74", { increased_attack_power: eng(0.0042 * 30, 0.0003 * 30) }],
    1141: ["Keen Blunt Weapon", "achieve_03_40", { crit_damage: eng(0.44, 0.02), damage_multiplier: -0.02 }],
    1118: ["Grudge", "buff_71", { damage_multiplier: eng(0.18, 0.0075) }],
    1140: ["Crisis Evasion", "buff_162", {}],
    1247: ["Cursed Doll", "buff_237", { damage_multiplier: eng(0.14, 0.0075) }],
    1301: ["Expert", "ability_237", {}],
    1109: ["Spirit Absorption", "buff_65", {}],
    1303: ["Precise Dagger", "ability_239", { crit_rate: eng(0.18, 0.0075), crit_damage: -0.06 }],
    1240: ["Heavy Armor", "buff_46", {}],
    1295: ["Mass Increase", "ability_231", { damage_multiplier: eng(0.16, 0.0075) }],
    1167: ["Max MP Increase", "buff_122", {}],
    1296: ["Propulsion", "ability_232", {}],
    1297: ["Hit Master", "ability_233", { damage_multiplier: eng(0.14, 0.0075) }],
    1202: ["Master of Escape", "buff_10", {}],
    1241: ["Explosive Expert", "buff_121", {}],
    1800: ["Atk. Power Reduction", "ability_218", {}],
    1801: ["Defense Reduction", "ability_219", {}],
    1802: ["Atk. Speed Reduction", "ability_220", {}],
    1803: ["Move Speed Reduction", "ability_221", {}],
};

function st(base: number, increase: number) {
    return [base, base + 1 * increase, base + 3 * increase, base + 4 * increase];
}

export const stone_level = [0, 0, 0, 0, 0, 0, 1, 2, 2, 3, 4];

export const stone_effects: Record<number, [string, string, Partial<ScaledStat>]> = {
    107: ["Disrespect", "achieve_04_30", {}],
    109: ["Spirit Absorption", "buff_65", {}],
    110: ["Ether Predator", "buff_74", { increased_attack_power: [0.001 * 30, 0.0013 * 30, 0.0018 * 30, 0.002 * 30] }],
    111: ["Stabilized Status", "buff_105", { damage_multiplier: st(0.03, 0.0075) }],
    112: ["Master of Slashes", "buff_107", {}],
    118: ["Grudge", "buff_71", { damage_multiplier: st(0.03, 0.0075) }],
    119: ["Invincible Evasion", "buff_20", {}],
    121: ["Super Charge", "achieve_06_14", { damage_multiplier: st(0.03, 0.0075) }],
    123: ["Strong Will", "buff_44", {}],
    125: ["Mayhem", "ability_270", {}],
    127: ["Esoteric Skill Enhancement", "buff_238", {}],
    129: ["Enhanced Weapon", "ability_242", {}],
    130: ["Firepower Enhancement", "ability_271", {}],
    133: ["Balanced Defense", "buff_26", {}],
    134: ["Drops of Ether", "buff_18", { drops_effect: st(0.12, 0.03)}],
    140: ["Crisis Evasion", "buff_162", {}],
    141: ["Keen Blunt Weapon", "achieve_03_40", { crit_damage: [0.075, 0.095, 0.132, 0.15] }],
    142: ["Vital Point Hit", "buff_168", {}],
    157: ["Master of Piercing", "buff_96", {}],
    158: ["Master of Destruction", "buff_27", {}],
    167: ["Max MP Increase", "buff_122", {}],
    168: ["MP Efficiency Increase", "buff_166", { damage_multiplier: st(0.03, 0.0075) }],
    188: ["Berserker Technique", "ability_269", {}],
    189: ["First Intention", "ability_25", {}],
    190: ["Ultimate Skill: Taijutsu", "achieve_07_22", {}],
    191: ["Shock Training", "buff_177", {}],
    192: ["Pistoleer", "buff_600", {}],
    193: ["Barrage Enhancement", "gl_skill_01_26", {}],
    194: ["True Courage", "ability_275", {}],
    195: ["Desperate Salvation", "ability_276", {}],
    196: ["Rage Hammer", "achieve_08_49", {}],
    197: ["Gravity Training", "ability_268", {}],
    198: ["Master Summoner", "buff_78", {}],
    199: ["Communication Overflow", "ability_274", {}],
    200: ["Grace of the Empress", "ability_272", {}],
    201: ["Order of the Emperor", "ability_273", {}],
    202: ["Master of Escape", "buff_10", {}],
    206: ["Telescope", "buff_152", {}],
    224: ["Combat Readiness", "ability_266", {}],
    225: ["Lone Knight", "ability_267", {}],
    235: ["Fortitude", "buff_66", {}],
    236: ["Crushing Fist", "buff_83", {}],
    237: ["Shield Piercing", "buff_89", {}],
    238: ["Master's Tenacity", "buff_147", { damage_multiplier: st(0.03, 0.0075) }],
    239: ["Divine Protection", "buff_229", {}],
    240: ["Heavy Armor", "buff_46", {}],
    241: ["Explosive Expert", "buff_121", {}],
    242: ["Enhanced Shield", "buff_239", {}],
    243: ["Necromancy", "buff_29", {}],
    244: ["Preemptive Strike", "achieve_08_62", {}],
    245: ["Broken Bone", "buff_94", {}],
    246: ["Lightning Fury", "buff_191", {}],
    247: ["Cursed Doll", "buff_237", { damage_multiplier: st(0.03, 0.0075) }],
    248: ["Contender", "buff_136", {}],
    249: ["Ambush Master", "buff_148", { damage_multiplier: [0.027, 0.034, 0.047, 0.054] }],
    251: ["Magick Stream", "buff_63",   {}],
    253: ["Barricade", "buff_170", { damage_multiplier: st(0.03, 0.0075) }],
    254: ["Raid Captain", "buff_210", { damage_multiplier: [0.075 * 0.4, 0.094 * 0.4, 0.132 * 0.4, 0.15 * 0.4] }],
    255: ["Awakening", "buff_113", { awakening_cooldown: st(0.06, 0.015) }],
    256: ["Energy Overflow", "buff_235", {}],
    257: ["Robust Spirit", "ability_45", {}],
    258: ["Loyal Companion", "ability_47", {}],
    259: ["Death Strike", "buff_245", {}],
    114: ["Twinkle Twinkle", "buff_115", {}],
    116: ["Servant", "buff_111", {}],
    207: ["Dynamite", "ability_91", {}],
    211: ["Master Net Caster", "ability_96", {}],
    213: ["Giant Tree", "ability_92", {}],
    214: ["Sapling", "ability_93", {}],
    215: ["4-Leaf Clover", "ability_97", {}],
    217: ["Entomologist", "buff_157", {}],
    219: ["Butcher", "ability_95", {}],
    221: ["Delicate Brush", "ability_98", {}],
    260: ["Increase Mining Tools", "ability_0", {}],
    261: ["Relentless Miner", "ability_100", {}],
    262: ["Bomb Enthusiast", "ability_101", {}],
    263: ["Increase Fishing Tools", "ability_0", {}],
    264: ["Double Points", "ability_103", {}],
    265: ["Golden Bait", "ability_104", {}],
    266: ["Logging Tool Rank Boost", "ability_0", {}],
    267: ["Rapid Kick", "ability_106", {}],
    268: ["Increase Harvesting Tools", "ability_0", {}],
    269: ["Deceptive Foraging", "ability_108", {}],
    270: ["Increase Hunting Tools", "ability_0", {}],
    271: ["Deadly Poison", "ability_110", {}],
    272: ["Golden Rabbit", "ability_111", {}],
    273: ["Increase Excavation Tools", "ability_0", {}],
    274: ["Loot Hunter", "ability_113", {}],
    275: ["Master Tamer", "ability_114", {}],
    276: ["Pinnacle", "ability_207", {}],
    277: ["Control", "ability_208", {}],
    278: ["Remaining Energy", "ability_209", {}],
    279: ["Surge", "ability_210", {}],
    280: ["Perfect Suppression", "ability_211", {}],
    281: ["Demonic Impulse", "ability_212", {}],
    282: ["Judgment", "ability_214", {}],
    283: ["Blessed Aura", "ability_215", {}],
    284: ["Arthetinean Skill", "ability_216", {}],
    285: ["Evolutionary Legacy", "ability_217", {}],
    286: ["Hunger", "ability_222", {}],
    287: ["Lunar Voice", "ability_223", {}],
    288: ["Master Brawler", "ability_224", { damage_multiplier: [0.027, 0.034, 0.047, 0.054] }],
    289: ["Peacemaker", "ability_225", {}],
    290: ["Time to Hunt", "ability_228", {}],
    291: ["Deathblow", "ability_230", {}],
    292: ["Esoteric Flurry", "ability_229", {}],
    293: ["Igniter", "ability_240", {}],
    294: ["Reflux", "ability_241", {}],
    295: ["Mass Increase", "ability_231", { damage_multiplier: st(0.03, 0.0075) }],
    296: ["Propulsion", "ability_232", {}],
    297: ["Hit Master", "ability_233", { damage_multiplier: st(0.03, 0.0075) }],
    298: ["Sight Focus", "ability_234", {}],
    299: ["Adrenaline", "ability_235", { increased_attack_power: [0.0048 * 6, 0.006 * 6, 0.0083 * 6, 0.0095 * 6] }],
    300: ["All-Out Attack", "ability_236", { damage_multiplier: st(0.03, 0.0075) }],
    301: ["Expert", "ability_237", {}],
    302: ["Emergency Rescue", "ability_238", {}],
    303: ["Precise Dagger", "ability_239", { crit_rate: st(0.03, 0.0075) }],
    305: ["Recurrence", "ability_248", {}],
    306: ["Full Bloom", "ability_249", {}],
    307: ["Wind Fury", "ability_258", {}],
    308: ["Drizzle", "ability_259", {}],
    309: ["Predator", "ability_260", {}],
    310: ["Punisher", "ability_261", {}],
    311: ["Full Moon Harvester", "ability_263", {}],
    312: ["Night's Edge", "ability_264", {}],
    314: ["Brawl King Storm", "ability_277", {}],
    315: ["Asura's Path", "ability_278", {}],
    800: ["Atk. Power Reduction", "ability_218", {}],
    801: ["Defense Reduction", "ability_219", {}],
    802: ["Atk. Speed Reduction", "ability_220", {}],
    803: ["Move Speed Reduction", "ability_221", {}],
};

export const effect_for_base_stat: Record<(typeof stats)[keyof typeof stats], Partial<Stats>> = {
    None: {},
    HP: {},
    MP: {},
    Strength: { main_stat: 1 },
    Dexterity: { main_stat: 1 },
    Intelligence: { main_stat: 1 },
    Vitality: {},
    Crit: { crit: 1 },
    Specialization: { spec: 1 },
    Domination: {},
    Swiftness: { swift: 1 },
    Endurance: {},
    Expertise: {},
    "Max HP": {},
    "Max MP": {},
    "Resting HP Recovery": {},
    "Combat HP Recovery": {},
    "Resting MP Recovery": {},
    "Combat MP Recovery": {},
    Healing: {},
    "HP Drain Rate": {},
    "MP Drain Rate": {},
    "Damage Reflect Rate": {},
    "Evolution-Type Damage": { evolution_damage: 0.0001 },
    "Brand Power": { brand_power: 0.0001 },
    "Atk. Power": { extra_ap: 1 },
    "Atk. Power (%)": { increased_attack_power: 0.0001 },
    "Bonus Damage": { damage_multiplier: 0.0001 },
    "Additional Damage": { additional_damage: 0.0001 },
    "Skill Cooldown Decrease": { cooldown_reduction: 0.0001 },
    "Stagger Damage": {},
    "Phy. Defense": {},
    "Mag. Defense": {},
    "Critical Physical": {},
    "Critical Magical": {},
    "Phy. Defense Piercing": {},
    "Mag. Defense Piercing": {},
    "Phy. Damage Reduction": {},
    "Mag. Damage Reduction": {},
    Shield: {},
    Accuracy: {},
    "Dodge Rate": {},
    "Crit Rate": { crit_rate: 0.0001 },
    "Crit Resistance": {},
    "Crit Damage": { crit_damage: 0.0001 },
    "Atk. Speed": {},
    "Move Speed": {},
    "Encumbered Speed": {},
    "Mount Speed": {},
    "Ship Sailing Speed": {},
    "Fire Damage": {},
    "Water Damage": {},
    "Lightning Damage": {},
    "Earth Damage": {},
    "Dark Damage": {},
    "Holy Damage": {},
    "Elemental Damage": {},
    "Fire Damage Reduction": {},
    "Water Damage Reduction": {},
    "Lightning Damage Reduction": {},
    "Earth Damage Reduction": {},
    "Dark Damage Reduction": {},
    "Holy Damage Reduction": {},
    "All Elemental Damage Reduction": {},
    "Hyper Awakening Skill Damage": {},
    "Status Ailment Time Reduction": {},
    "Status Ailment Time Bonus": {},
    "Identity Meter 1": {},
    "Identity Meter 2": {},
    "Identity Meter 3": {},
    "Awakening Skill Damage": {},
    "Item Drop Rate": {},
    "Silver Earned": {},
    "XP Earned": {},
    "Bonus vs. Humans": {},
    "Bonus vs. Demons": {},
    "Bonus vs. Matter": {},
    "Bonus vs. Undead": {},
    "Bonus vs. Plants": {},
    "Bonus vs. Insects": {},
    "Bonus vs. Elementals": {},
    "Bonus vs. Beasts": {},
    "Bonus vs. Machines": {},
    "Bonus vs. Ancients": {},
    "Bonus vs. Gods": {},
    "Bonus vs. Archdemons": {},
    Vigor: {},
    "Fast Sailing Move Speed": {},
    "Move Speed while stranded": {},
    "Move Speed on Islands": {},
    "Attack Power Sub 1": {},
    "Attack Power Sub 2": {},
    "Physical Inc Sub 1": {},
    "Physical Inc Sub 2": {},
    "Magical Inc Sub 1": {},
    "Magical Inc Sub 2": {},
    "Skill Damage Sub 1": {},
    "Skill Damage Sub 2": {},
    "Combat Resource Natural Recovery": {},
    "Basic Atk. Power": { base_ap: 0.0001 },
    "Weapon Power": { weapon_power: 1 },
    "Weapon Power (%)": { increased_weapon_power: 0.0001 },
};

export const special_effects: Record<number, [string, Partial<Stats>]> = {
    77300001: [
        "Shield and Healing effectiveness on all Party Members +<FONT COLOR='#99ff99'>6%</FONT>. If target's HP is <FONT COLOR='#ffff99'>50%</FONT> or lower, +<FONT COLOR='#99ff99'>3%</FONT> additional effectiveness.",
        {},
    ],
    77300002: [
        "When HP falls below <FONT COLOR='#ffff99'>30%</FONT>, gain a shield equal to <FONT COLOR='#99ff99'>20%</FONT> of Max HP for <FONT COLOR='#ffff99'>6s</FONT>. If the shield is not destroyed after 6s, recover <FONT COLOR='#99ff99'>50%</FONT> of the remaining shield as HP. (Cooldown: <FONT COLOR='#ffff99'>300s</FONT>.)",
        {},
    ],
    11011: [
        `Crit Rate +<FONT COLOR='{0}'>5%</FONT>.
        Crit Hit Damage +<FONT COLOR='#99ff99'>1.5%</FONT>.`,
        { crit_rate: 0.05, damage_on_crit: 0.015 },
    ],
    11012: [
        `Crit Rate +<FONT COLOR='{0}'>4.2%</FONT>.
        Crit Hit Damage +<FONT COLOR='#99ff99'>1.5%</FONT>.`,
        { crit_rate: 0.042, damage_on_crit: 0.015 },
    ],
    11013: [
        `Crit Rate +<FONT COLOR='{0}'>3.4%</FONT>.
Crit Hit Damage +<FONT COLOR='#99ff99'>1.5%</FONT>.`,
        { crit_rate: 0.034, damage_on_crit: 0.015 },
    ],
    11014: [
        `Crit Rate +<FONT COLOR='{0}'>2.6%</FONT>.
Crit Hit Damage +<FONT COLOR='#99ff99'>1.5%</FONT>.`,
        { crit_rate: 0.026, damage_on_crit: 0.015 },
    ],
    11021: [
        `Crit Damage +<FONT COLOR='{0}'>10%</FONT>.
Crit Hit Damage +<FONT COLOR='#99ff99'>1.5%</FONT>.`,
        { crit_damage: 0.1, damage_on_crit: 0.015 },
    ],
    11022: [
        `Crit Damage +<FONT COLOR='{0}'>8.4%</FONT>.
Crit Hit Damage +<FONT COLOR='#99ff99'>1.5%</FONT>.`,
        { crit_damage: 0.084, damage_on_crit: 0.015 },
    ],
    11023: [
        `Crit Damage +<FONT COLOR='{0}'>6.8%</FONT>.
Crit Hit Damage +<FONT COLOR='#99ff99'>1.5%</FONT>.`,
        { crit_damage: 0.068, damage_on_crit: 0.015 },
    ],
    11024: [
        `Crit Damage +<FONT COLOR='{0}'>5.2%</FONT>.
Crit Hit Damage +<FONT COLOR='#99ff99'>1.5%</FONT>.`,
        { crit_damage: 0.052, damage_on_crit: 0.015 },
    ],
    11041: [
        `Additional Damage +<FONT COLOR='{0}'>3.5%</FONT>.
Bonus vs. Demon/Archdemon +<FONT COLOR='#99ff99'>2.5%</FONT>.`,
        { additional_damage: 0.035, damage_multiplier: 0.025 },
    ],
    11042: [
        `Additional Damage +<FONT COLOR='{0}'>3%</FONT>.
Bonus vs. Demon/Archdemon +<FONT COLOR='#99ff99'>2.5%</FONT>.`,
        { additional_damage: 0.03, damage_multiplier: 0.025 },
    ],
    11043: [
        `Additional Damage +<FONT COLOR='{0}'>2.5%</FONT>.
Bonus vs. Demon/Archdemon +<FONT COLOR='#99ff99'>2.5%</FONT>.`,
        { additional_damage: 0.025, damage_multiplier: 0.025 },
    ],
    11044: [
        `Additional Damage +<FONT COLOR='{0}'>2%</FONT>.
Bonus vs. Demon/Archdemon +<FONT COLOR='#99ff99'>2.5%</FONT>.`,
        { additional_damage: 0.02, damage_multiplier: 0.025 },
    ],
    11051: [
        "Skill cooldown +<FONT COLOR='#ff9999'>2%</FONT>. Outgoing Damage +<FONT COLOR='{0}'>5.5%</FONT>.",
        { cooldown_reduction: -0.02, damage_multiplier: 0.055 },
    ],
    11052: [
        "Skill cooldown +<FONT COLOR='#ff9999'>2%</FONT>. Outgoing Damage +<FONT COLOR='{0}'>5%</FONT>.",
        { cooldown_reduction: -0.02, damage_multiplier: 0.05 },
    ],
    11053: [
        "Skill cooldown +<FONT COLOR='#ff9999'>2%</FONT>. Outgoing Damage +<FONT COLOR='{0}'>4.5%</FONT>.",
        { cooldown_reduction: -0.02, damage_multiplier: 0.045 },
    ],
    11054: [
        "Skill cooldown +<FONT COLOR='#ff9999'>2%</FONT>. Outgoing Damage +<FONT COLOR='{0}'>4%</FONT>.",
        { cooldown_reduction: -0.02, damage_multiplier: 0.04 },
    ],
    11061: [
        `Upon hit, target's Defense -<FONT COLOR='{0}'>2.5%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>3%</FONT>.`,
        { ally_outgoing_damage: 0.025 / 2, ap_buff_effect: 0.03 },
    ],
    11062: [
        `Upon hit, target's Defense -<FONT COLOR='{0}'>2.1%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>2.5%</FONT>.`,
        { ally_outgoing_damage: 0.021 / 2, ap_buff_effect: 0.025},
    ],
    11063: [
        `Upon hit, target's Defense -<FONT COLOR='{0}'>1.8%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>2%</FONT>.`,
        { ally_outgoing_damage: 0.018 / 2, ap_buff_effect: 0.02},
    ],
    11064: [
        `Upon hit, target's Defense -<FONT COLOR='{0}'>1.5%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>1.5%</FONT>.`,
        { ally_outgoing_damage: 0.015 / 2, ap_buff_effect: 0.015},
    ],
    11071: [
        `Upon hit, target's Crit Resistance -<FONT COLOR='{0}'>2.5%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>3%</FONT>.`,
        { crit_rate_resistance: 0.025, ap_buff_effect: 0.03 },
    ],
    11072: [
        `Upon hit, target's Crit Resistance -<FONT COLOR='{0}'>2.1%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>2.5%</FONT>.`,
        {
            crit_rate_resistance: 0.021,
            ap_buff_effect: 0.025,
        },

    ],
    11073: [
        `Upon hit, target's Crit Resistance -<FONT COLOR='{0}'>1.8%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>2%</FONT>.`,
        {
            crit_rate_resistance: 0.018,
            ap_buff_effect: 0.02,
        },
    ],
    11074: [
        `Upon hit, target's Crit Resistance -<FONT COLOR='{0}'>1.5%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>1.5%</FONT>.`,
        {
            crit_rate_resistance: 0.015,
            ap_buff_effect: 0.015,
        },
    ],
    11081: [
        `Targets that already have a party-wide protective effect (Shield, HP Regen, Incoming Damage Reduction) are granted Outgoing Damage +<FONT COLOR='{0}'>1.3%</FONT> for 5s.
This effect is limited to a single application per party and does not apply to protective effects with no duration. Ally Atk. Power Enhancement +<FONT COLOR='{0}'>3%</FONT>.`,
        {
            ally_outgoing_damage: 0.013,
            ap_buff_effect: 0.03,
        },
    ],
    11082: [
        `Targets that already have a party-wide protective effect (Shield, HP Regen, Incoming Damage Reduction) are granted Outgoing Damage +<FONT COLOR='{0}'>1.1%</FONT> for 5s.
This effect is limited to a single application per party and does not apply to protective effects with no duration. Ally Atk. Power Enhancement +<FONT COLOR='{0}'>2.5%</FONT>.`,
        {
            ally_outgoing_damage: 0.011,
            ap_buff_effect: 0.025,
        },
    ],
    11083: [
        `Targets that already have a party-wide protective effect (Shield, HP Regen, Incoming Damage Reduction) are granted Outgoing Damage +<FONT COLOR='{0}'>0.9%</FONT> for 5s.
This effect is limited to a single application per party and does not apply to protective effects with no duration. Ally Atk. Power Enhancement +<FONT COLOR='{0}'>2%</FONT>.`,
        {
            ally_outgoing_damage: 0.009,
            ap_buff_effect: 0.02,
        },
    ],
    11084: [
        `Targets that already have a party-wide protective effect (Shield, HP Regen, Incoming Damage Reduction) are granted Outgoing Damage +<FONT COLOR='{0}'>0.7%</FONT> for 5s.
This effect is limited to a single application per party and does not apply to protective effects with no duration. Ally Atk. Power Enhancement +<FONT COLOR='{0}'>1.5%</FONT>.`,
        {
            ally_outgoing_damage: 0.007,
            ap_buff_effect: 0.015,
        },
    ],
    11091: [
        `Upon hit, target's Crit Damage -<FONT COLOR='{0}'>4.8%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>3%</FONT>.`,
        {
            crit_damage_resistance: 0.048,
            ap_buff_effect: 0.03,
        },
    ],
    11092: [
        `Upon hit, target's Crit Damage -<FONT COLOR='{0}'>4.2%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>2.5%</FONT>.`,
        {
            crit_damage_resistance: 0.042,
            ap_buff_effect: 0.025,
        },
    ],
    11093: [
        `Upon hit, target's Crit Damage -<FONT COLOR='{0}'>3.6%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>2%</FONT>.`,
        {
            crit_damage_resistance: 0.036,
            ap_buff_effect: 0.02,
        },
    ],
    11094: [
        `Upon hit, target's Crit Damage -<FONT COLOR='{0}'>3%</FONT> for 8s.
This effect is limited to a single application per party.
Ally Atk. Power Enhancement +<FONT COLOR='{0}'>1.5%</FONT>.`,
        {
            crit_damage_resistance: 0.03,
            ap_buff_effect: 0.015,
        },
    ],
    11111: [
        `Weapon Power +<FONT COLOR='{0}'>9,000</FONT>.
When your HP is 50% or higher, upon hit, Weapon Power +<FONT COLOR='{0}'>2,400</FONT> for 5s.`,
        { weapon_power: 9000 + 2400 },
    ],
    11112: [
        `Weapon Power +<FONT COLOR='{0}'>8,100</FONT>.
When your HP is 50% or higher, upon hit, Weapon Power +<FONT COLOR='{0}'>2,200</FONT> for 5s.`,
        { weapon_power: 8100 + 2200 },
    ],
    11113: [
        `Weapon Power +<FONT COLOR='{0}'>7,200</FONT>.
When your HP is 50% or higher, upon hit, Weapon Power +<FONT COLOR='{0}'>2,000</FONT> for 5s.`,
        { weapon_power: 7200 + 2000 },
    ],
    11114: [
        `Weapon Power +<FONT COLOR='{0}'>6,300</FONT>.
When your HP is 50% or higher, upon hit, Weapon Power +<FONT COLOR='{0}'>1,800</FONT> for 5s.`,
        { weapon_power: 6300 + 1800 },
    ],
    11121: [
        `Weapon Power +<FONT COLOR='{0}'>8,700</FONT>.
Upon hit, Weapon Power +<FONT COLOR='{0}'>150</FONT> for 120s every 30s. (Max. 30 stacks)`,
        { weapon_power: 8700 + 150 * 30 },
    ],
    11122: [
        `Weapon Power +<FONT COLOR='{0}'>7,800</FONT>.
Upon hit, Weapon Power +<FONT COLOR='{0}'>140</FONT> for 120s every 30s. (Max. 30 stacks)`,
        { weapon_power: 7800 + 140 * 30 },
    ],
    11123: [
        `Weapon Power +<FONT COLOR='{0}'>6,900</FONT>.
Upon hit, Weapon Power +<FONT COLOR='{0}'>130</FONT> for 120s every 30s. (Max. 30 stacks)`,
        { weapon_power: 6900 + 130 * 30 },
    ],
    11124: [
        `Weapon Power +<FONT COLOR='{0}'>6,000</FONT>.
Upon hit, Weapon Power +<FONT COLOR='{0}'>120</FONT> for 120s every 30s. (Max. 30 stacks)`,
        { weapon_power: 6000 + 120 * 30 },
    ],
    11181: ["Party Member protection and recovery effect +<FONT COLOR='{0}'>3.5%</FONT>.", {}],
    11182: ["Party Member protection and recovery effect +<FONT COLOR='{0}'>3%</FONT>.", {}],
    11183: ["Party Member protection and recovery effect +<FONT COLOR='{0}'>2.5%</FONT>.", {}],
    11184: ["Party Member protection and recovery effect +<FONT COLOR='{0}'>2%</FONT>.", {}],
    11261: ["Atk./Move Speed +<FONT COLOR='{0}'>6%</FONT>.", {}],
    11262: ["Atk./Move Speed +<FONT COLOR='{0}'>5%</FONT>.", {}],
    11263: ["Atk./Move Speed +<FONT COLOR='{0}'>4%</FONT>.", {}],
    11264: ["Atk./Move Speed +<FONT COLOR='{0}'>3%</FONT>.", {}],
    11341: ["Movement Skill/Stand Up cooldown -<FONT COLOR='{0}'>12%</FONT>.", {}],
    11342: ["Movement Skill/Stand Up cooldown -<FONT COLOR='{0}'>10%</FONT>.", {}],
    11343: ["Movement Skill/Stand Up cooldown -<FONT COLOR='{0}'>8%</FONT>.", {}],
    11344: ["Movement Skill/Stand Up cooldown -<FONT COLOR='{0}'>6%</FONT>.", {}],
    605100031: [
        "Outgoing Damage +<FONT COLOR='{0}'>3%</FONT>. Outgoing Damage +<FONT COLOR='{0}'>5%</FONT> to Staggered foes.",
        { damage_multiplier: 0.03 },
    ],
    605100032: [
        "Outgoing Damage +<FONT COLOR='{0}'>2.5%</FONT>. Outgoing Damage +<FONT COLOR='{0}'>4.5%</FONT> to Staggered foes.",
        {damage_multiplier: 0.025},
    ],
    605100033: [
        "Outgoing Damage +<FONT COLOR='{0}'>2%</FONT>. Outgoing Damage +<FONT COLOR='{0}'>4%</FONT> to Staggered foes.",
        { damage_multiplier: 0.02},
    ],
    605100034: [
        "Outgoing Damage +<FONT COLOR='{0}'>1.5%</FONT>. Outgoing Damage +<FONT COLOR='{0}'>3.5%</FONT> to Staggered foes.",
        { damage_multiplier: 0.015 },
    ],
    605100101: [
        "On hit, Weapon Power +<FONT COLOR='{0}'>1,480</FONT>, Atk./Move Speed +<FONT COLOR='#99ff99'>1%</FONT> for 10s. (Max. 6 stacks)",
        { weapon_power: 1480 },
    ],
    605100102: [
        "On hit, Weapon Power +<FONT COLOR='{0}'>1,320</FONT>, Atk./Move Speed +<FONT COLOR='#99ff99'>1%</FONT> for 10s. (Max. 6 stacks)",
        { weapon_power: 1320 },
    ],
    605100103: [
        "On hit, Weapon Power +<FONT COLOR='{0}'>1,160</FONT>, Atk./Move Speed +<FONT COLOR='#99ff99'>1%</FONT> for 10s. (Max. 6 stacks)",
        { weapon_power: 1160 },
    ],
    605100104: [
        "On hit, Weapon Power +<FONT COLOR='{0}'>1,000</FONT>, Atk./Move Speed +<FONT COLOR='#99ff99'>1%</FONT> for 10s. (Max. 6 stacks)",
        { weapon_power: 1000 },
    ],
    605100131: ["Outgoing Damage +<FONT COLOR='{0}'>3%</FONT>.", { damage_multiplier: 0.03}],
    605100132: ["Outgoing Damage +<FONT COLOR='{0}'>2.5%</FONT>.", { damage_multiplier: 0.025}],
    605100133: ["Outgoing Damage +<FONT COLOR='{0}'>2%</FONT>.", { damage_multiplier: 0.02}],
    605100134: ["Outgoing Damage +<FONT COLOR='{0}'>1.5%</FONT>.", { damage_multiplier: 0.015}],
    605100151: ["Back Attack Damage +<FONT COLOR='{0}'>3.5%</FONT>.", { damage_multiplier: 0.035}],
    605100152: ["Back Attack Damage +<FONT COLOR='{0}'>3%</FONT>.", { damage_multiplier: 0.04}],
    605100153: ["Back Attack Damage +<FONT COLOR='{0}'>2.5%</FONT>.", { damage_multiplier: 0.025}],
    605100154: ["Back Attack Damage +<FONT COLOR='{0}'>2%</FONT>.", { damage_multiplier: 0.02}],
    605100161: ["Frontal Attack Damage +<FONT COLOR='{0}'>3.5%</FONT>.", {damage_multiplier: 0.035}],
    605100162: ["Frontal Attack Damage +<FONT COLOR='{0}'>3%</FONT>.", {damage_multiplier: 0.04}],
    605100163: ["Frontal Attack Damage +<FONT COLOR='{0}'>2.5%</FONT>.", {damage_multiplier: 0.025}],
    605100164: ["Frontal Attack Damage +<FONT COLOR='{0}'>2%</FONT>.", {damage_multiplier: 0.02}],
    605100171: [
        `Non-directional Skill Damage +<FONT COLOR='{0}'>3.5%</FONT>.
Awakening Skills do not apply.`,
        {damage_multiplier: 0.035},
    ],
    605100172: [
        `Non-directional Skill Damage +<FONT COLOR='{0}'>3%</FONT>.
Awakening Skills do not apply.`,
        {damage_multiplier: 0.04},
    ],
    605100173: [
        `Non-directional Skill Damage +<FONT COLOR='{0}'>2.5%</FONT>.
Awakening Skills do not apply.`,
        {damage_multiplier: 0.025},
    ],
    605100174: [
        `Non-directional Skill Damage +<FONT COLOR='{0}'>2%</FONT>.
Awakening Skills do not apply.`,
        {damage_multiplier: 0.02},
    ],
    605100271: ["Damage to Challenge or lower monsters +<FONT COLOR='{0}'>6%</FONT>.", {}],
    605100272: ["Damage to Challenge or lower monsters +<FONT COLOR='{0}'>5%</FONT>.", {}],
    605100273: ["Damage to Challenge or lower monsters +<FONT COLOR='{0}'>4%</FONT>.", {}],
    605100274: ["Damage to Challenge or lower monsters +<FONT COLOR='{0}'>3%</FONT>.", {}],
    605100281: ["Incoming Damage from Challenge or lower monsters -<FONT COLOR='{0}'>10%</FONT>.", {}],
    605100282: ["Incoming Damage from Challenge or lower monsters -<FONT COLOR='{0}'>8%</FONT>.", {}],
    605100283: ["Incoming Damage from Challenge or lower monsters -<FONT COLOR='{0}'>6%</FONT>.", {}],
    605100284: ["Incoming Damage from Challenge or lower monsters -<FONT COLOR='{0}'>4%</FONT>.", {}],
    605100351: [
        `On hit, Paralysis and Push Immunity for <FONT COLOR='{0}'>60s</FONT>. (Cooldown: <FONT COLOR='{0}'>60s</FONT>)
The effect is removed upon getting hit 1 time.`,
        {},
    ],
    605100352: [
        `On hit, Paralysis and Push Immunity for <FONT COLOR='{0}'>70s</FONT>. (Cooldown: <FONT COLOR='{0}'>70s</FONT>)
The effect is removed upon getting hit 1 time.`,
        {},
    ],
    605100353: [
        `On hit, Paralysis and Push Immunity for <FONT COLOR='{0}'>80s</FONT>. (Cooldown: <FONT COLOR='{0}'>80s</FONT>)
The effect is removed upon getting hit 1 time.`,
        {},
    ],
    605100354: [
        `On hit, Paralysis and Push Immunity for <FONT COLOR='{0}'>90s</FONT>. (Cooldown: <FONT COLOR='{0}'>90s</FONT>)
The effect is removed upon getting hit 1 time.`,
        {},
    ],
    621e6: ["Outgoing Damage {0}%", { damage_multiplier: 0.0055 }],
    621000001: ["Outgoing Damage {0}%", { damage_multiplier: 0.012}],
    621000002: ["Outgoing Damage {0}%", { damage_multiplier: 0.02 }],
};

export const classes = {
    warrior: "Warrior",
    berserker: "Berserker",
    destroyer: "Destroyer",
    warlord: "Gunlancer",
    holyknight: "Paladin",
    warrior_female: "Warrior",
    berserker_female: "Slayer",
    magician: "Mage",
    arcana: "Arcanist",
    summoner: "Summoner",
    bard: "Bard",
    elemental_master: "Sorceress",
    fighter: "Martial Artist",
    battle_master: "Wardancer",
    infighter: "Scrapper",
    force_master: "Soulfist",
    lance_master: "Glaivier",
    fighter_male: "Martial Artist",
    battle_master_male: "Striker",
    infighter_male: "Breaker",
    delain: "Assassin",
    blade: "Deathblade",
    demonic: "Shadowhunter",
    reaper: "Reaper",
    soul_eater: "Souleater",
    hunter: "Gunner",
    hawk_eye: "Sharpshooter",
    devil_hunter: "Deadeye",
    blaster: "Artillerist",
    scouter: "Machinist",
    hunter_female: "Gunner",
    devil_hunter_female: "Gunslinger",
    specialist: "Specialist",
    yinyangshi: "Artist",
    weather_artist: "Aeromancer",
    alchemist: "Wildsoul"
} as const;

export const karma_rank_effects: Record<"evolution" | "enlightenment" | "leap", Partial<Stats>> = {
    evolution: { evolution_damage: 0.01, brand_power: 0.01 },
    enlightenment: {},
    leap: { }
};

export const karma_level_effects: Record<"evolution" | "enlightenment" | "leap", Partial<Stats>> = {
    evolution: { },
    enlightenment: { increased_weapon_power: 0.001 },
    leap: { damage_multiplier: 0.001 * 0.035 } // 0.1% hyper awakening damage @ 3.5% damage contribution
};

export const gem_level = {
    // damage gems
    65031010: 1,
    65031020: 2,
    65031030: 3,
    65031040: 4,
    65031050: 5,
    65031060: 6,
    65031070: 7,
    65031080: 8,
    65031090: 9,
    65031100: 10,
    // cooldown gems
    65032010: 1,
    65032020: 2,
    65032030: 3,
    65032040: 4,
    65032050: 5,
    65032060: 6,
    65032070: 7,
    65032080: 8,
    65032090: 9,
    65032100: 10,
};

export const supp_identity_effect_for_stat: Partial<Record<keyof typeof classes, number>> = {
    yinyangshi: 0.00054354838,
    bard: 0.0005007,
    holyknight: 0.00090122377,
};

export const supp_identity_gain_for_stat: Partial<Record<keyof typeof classes, number>> = {
    yinyangshi: 0.00035762463,
    bard: 0.0004005,
    holyknight: 0.00035751748,
};
export const supp_info = {
    yinyangshi: {
        identity_effect_for_stat: 0.00054354838,
        identity_gain_for_stat: 0.00035762463,
        base_effect: 0.1,
        base_duration: 10 / 2, // 2 bubbles used
        t_skill_effect: 0.1,
        t_skill_duration: 12,
        t_skill_cooldown: 72,
        identity_per_sec: 0.046,
        awakening_bubbles: 2
    },
    bard: {
        identity_effect_for_stat: 0.0005007,
        identity_gain_for_stat: 0.0004005,
        base_effect: 0.15,
        base_duration: 16 / 3, // 3 bubbles used
        t_skill_effect: 0.1,
        t_skill_duration: 15,
        t_skill_cooldown: 90,
        identity_per_sec: 0.029,
        awakening_bubbles: 1
    },
    holyknight: {
        identity_effect_for_stat: 0.00090122377,
        identity_gain_for_stat: 0.00035751748,
        base_effect: 0.1,
        base_duration: 10, // incorrect
        t_skill_effect: 0.1,
        t_skill_duration: 10,
        t_skill_cooldown: 60,
        identity_per_sec: 0.015,
        awakening_bubbles: 0.8
    }
};
const gem_types_ = {
    27: "skill_cooldown_reduction" ,
    64: "skill_attack_power_amplify_multiplier", // 58, 60, 62, 64
    65: "skill_group_attack_power_amplify_multiplier", // 59, 61, 63, 65
    5: "skill_damage" // and "skill_group_damage" but with other id
} as const;
export const gem_types = gem_types_ as Record<number, typeof gem_types_[keyof typeof gem_types_]>;